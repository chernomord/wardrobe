{"version":3,"sources":["webpack:///static/js/app.9cd88488866c59df7cc0.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///wardrobe.vue","webpack:///./src/App.vue?d818","webpack:///./src/components/wardrobe.vue?a25c","webpack:///./src/App.vue","webpack:///./src/components/wardrobe.vue"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","components","App","13","Object","defineProperty","value","_wardrobe","_wardrobe2","wardrobe","14","_getOwnPropertyNames","_getOwnPropertyNames2","_assign","_assign2","_stringify","_stringify2","_vueStrap","name","button-group","buttonGroup","radio","data","imgWidth","msg","weather","accessories","look","main","storedLooks","ready","window","localStorage","getItem","JSON","parse","this","methods","saveLook","_this","noEquals","noEqual","i","length","maxNum","curName","parseInt","lookToStore","push","setItem","deleteLook","idx","splice","loadLook","loadWardrobe","_this2","x","XMLHttpRequest","open","send","onreadystatechange","readyState","status","console","debug","statusText","responseText","generateLook","_this3","filterWardrobe","wardrobeObj","filtered","forEach","group","item","indexOf","tempLook","filteredWardrobe","filteredAccessories","decideOppGroups","grp1","grp2","decision","Math","round","random","excludeGroup","val","index","decide","calcItems","input","total","getClass","created","48","49","50","51","52","__vue_script__","__vue_template__","options","template","53"],"mappings":"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","file":"static/js/app.9cd88488866c59df7cc0.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(55);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(52);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: 'body',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n\n/***/ 13:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _wardrobe = __webpack_require__(53);\n\t\n\tvar _wardrobe2 = _interopRequireDefault(_wardrobe);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    wardrobe: _wardrobe2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 14:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getOwnPropertyNames = __webpack_require__(17);\n\t\n\tvar _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);\n\t\n\tvar _assign = __webpack_require__(16);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _stringify = __webpack_require__(15);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _vueStrap = __webpack_require__(54);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\n\t  name: 'wardrobe',\n\t\n\t  components: {\n\t    'button-group': _vueStrap.buttonGroup,\n\t    'radio': _vueStrap.radio\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      imgWidth: 150,\n\t      msg: 'Гардероб!',\n\t      wardrobe: 'empty',\n\t      weather: 'any',\n\t      accessories: 'empty',\n\t      look: {\n\t        main: 'empty',\n\t        accessories: 'empty'\n\t      },\n\t      storedLooks: []\n\t    };\n\t  },\n\t\n\t  ready: function ready() {\n\t    var storedLooks = window.localStorage.getItem('storedLooks');\n\t    if (storedLooks) {\n\t      storedLooks = JSON.parse(storedLooks);\n\t      this.storedLooks = storedLooks;\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    saveLook: function saveLook() {\n\t      var _this = this;\n\t\n\t      var noEquals = function noEquals(look, storedLooks) {\n\t        var noEqual = true;\n\t        for (var i = 0; i < _this.storedLooks.length; ++i) {\n\t          if ((0, _stringify2.default)(storedLooks[i].look) === (0, _stringify2.default)(look)) {\n\t            noEqual = false;\n\t            break;\n\t          }\n\t        }\n\t        return noEqual;\n\t      };\n\t\n\t      var maxNum = function maxNum() {\n\t        var maxNum = 1;\n\t        for (var i = 0; i < _this.storedLooks.length; ++i) {\n\t          var curName = parseInt(_this.storedLooks[i].name, 10);\n\t          if (curName >= maxNum) maxNum = curName + 1;\n\t        }\n\t        return maxNum;\n\t      };\n\t      if (this.look.main !== 'empty' && noEquals(this.look, this.storedLooks)) {\n\t        var lookToStore = {};\n\t        lookToStore.name = maxNum();\n\t        lookToStore.look = (0, _assign2.default)({}, this.look);\n\t        this.storedLooks.push(lookToStore);\n\t        lookToStore = (0, _stringify2.default)(this.storedLooks);\n\t        window.localStorage.setItem('storedLooks', lookToStore);\n\t      }\n\t    },\n\t\n\t    deleteLook: function deleteLook(idx) {\n\t      this.storedLooks.splice(idx, 1);\n\t      window.localStorage.setItem('storedLooks', (0, _stringify2.default)(this.storedLooks));\n\t    },\n\t\n\t    loadLook: function loadLook(idx) {\n\t      this.look = JSON.parse((0, _stringify2.default)(this['storedLooks'][idx].look));\n\t    },\n\t\n\t    loadWardrobe: function loadWardrobe() {\n\t      var _this2 = this;\n\t\n\t      var x = new XMLHttpRequest();\n\t      x.open('GET', 'static/wardrobe.json', true);\n\t      x.send();\n\t      x.onreadystatechange = function () {\n\t        if (x.readyState !== 4) return;\n\t        if (x.status !== 200) {\n\t          console.debug(x.status + ': ' + x.statusText);\n\t        } else {\n\t          var data = JSON.parse(x.responseText);\n\t          _this2.accessories = data.accessories;\n\t          delete data.accessories;\n\t          _this2.wardrobe = data;\n\t        }\n\t      };\n\t    },\n\t    generateLook: function generateLook() {\n\t      var _this3 = this;\n\t\n\t      var filterWardrobe = function filterWardrobe(wardrobeObj) {\n\t        var filtered = {};\n\t        (0, _getOwnPropertyNames2.default)(wardrobeObj).forEach(function (group) {\n\t          if (group !== '__ob__') {\n\t            filtered[group] = [];\n\t            wardrobeObj[group].forEach(function (item) {\n\t              if (item.weather.indexOf(_this3.weather) > -1) {\n\t                filtered[group].push(item['path']);\n\t              } else if (_this3.weather === 'any') {\n\t                filtered[group].push(item['path']);\n\t              }\n\t            });\n\t            if (filtered[group].length < 1) {\n\t              delete filtered[group];\n\t            }\n\t          }\n\t        });\n\t        return filtered;\n\t      };\n\t      var tempLook = {};\n\t      var filteredWardrobe = filterWardrobe(this.wardrobe);\n\t      var filteredAccessories = filterWardrobe(this.accessories);\n\t\n\t      var decideOppGroups = function decideOppGroups(grp1, grp2) {\n\t        var decision = [grp1, grp2];\n\t        return decision[Math.round(Math.random())];\n\t      };\n\t      var excludeGroup = decideOppGroups('bottom', 'dress');\n\t      (0, _getOwnPropertyNames2.default)(filteredWardrobe).forEach(function (val) {\n\t        if (val !== '__ob__' && val !== excludeGroup) {\n\t          var index = Math.round(Math.random() * (filteredWardrobe[val].length - 1));\n\t          tempLook[val] = filteredWardrobe[val][index];\n\t        }\n\t      });\n\t      var accessories = {};\n\t      (0, _getOwnPropertyNames2.default)(filteredAccessories).forEach(function (val) {\n\t        var decide = Math.random() - 0.5;\n\t        if (decide > 0 && val !== '__ob__') {\n\t          var index = Math.round(Math.random() * (filteredAccessories[val].length - 1));\n\t          accessories[val] = filteredAccessories[val][index];\n\t        }\n\t      });\n\t      this.look.main = tempLook;\n\t      this.look.accessories = accessories;\n\t    },\n\t\n\t    calcItems: function calcItems(input) {\n\t      var total = 0;\n\t      if (input instanceof Object) {\n\t        (0, _getOwnPropertyNames2.default)(input).forEach(function (val) {\n\t          total = total + (input[val].length || 0);\n\t        });\n\t      }\n\t      return total;\n\t    },\n\t\n\t    getClass: function getClass(name) {\n\t      return name;\n\t    }\n\t  },\n\t\n\t  created: function created() {}\n\t\n\t};\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=app> <wardrobe></wardrobe> </div> \";\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=hello _v-02c85d1e=\\\"\\\"> <h1 _v-02c85d1e=\\\"\\\">{{ msg }}</h1> <template v-if=\\\"wardrobe.hasOwnProperty('top')\\\"> <p _v-02c85d1e=\\\"\\\">Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p> </template> <button class=\\\"btn btn-primary\\\" v-on:click=loadWardrobe() v-if=\\\"wardrobe === 'empty'\\\" _v-02c85d1e=\\\"\\\">Загрузить гардероб </button> <template v-if=\\\"wardrobe.hasOwnProperty('top')\\\"> <button-group :value.sync=weather type=default _v-02c85d1e=\\\"\\\"> <radio value=winter _v-02c85d1e=\\\"\\\">Зима</radio> <radio value=inter_season _v-02c85d1e=\\\"\\\">Межсезонье</radio> <radio value=summer _v-02c85d1e=\\\"\\\">Лето</radio> </button-group> <button class=\\\"btn btn-link\\\" v-on:click=\\\"weather = 'any'\\\" _v-02c85d1e=\\\"\\\">&lt; Без разницы</button> <button class=\\\"btn btn-primary\\\" v-on:click=generateLook() _v-02c85d1e=\\\"\\\">Создать образ</button> <button class=\\\"btn btn-default\\\" v-on:click=saveLook() v-if=\\\"look.main !== 'empty'\\\" _v-02c85d1e=\\\"\\\">Сохранить</button> </template> <div class=look _v-02c85d1e=\\\"\\\"> <div class=look__main v-if=\\\"look.main !== 'empty'\\\" _v-02c85d1e=\\\"\\\"> <div class=wardrobe-item v-for=\\\"(key, item) in look.main\\\" v-bind:class=getClass(key) _v-02c85d1e=\\\"\\\"> <img :src=\\\"'static/images/' + key + '/' + item\\\" :width=imgWidth _v-02c85d1e=\\\"\\\"> </div> </div> <div class=look__accessories v-if=\\\"look.accessories !== 'empty'\\\" _v-02c85d1e=\\\"\\\"> <div class=wardrobe-item v-for=\\\"(key, item) in look.accessories\\\" _v-02c85d1e=\\\"\\\"> <img :src=\\\"'static/images/accessories/' + key + '/' + item\\\" :width=imgWidth _v-02c85d1e=\\\"\\\"> </div> </div> </div> <div _v-02c85d1e=\\\"\\\"> <h3 _v-02c85d1e=\\\"\\\">Сохраненные образы</h3> <div class=\\\"btn-toolbar saved-looks\\\" style=text-align:center _v-02c85d1e=\\\"\\\"> <div class=btn-group role=group v-for=\\\"look in storedLooks\\\" _v-02c85d1e=\\\"\\\"> <button type=button class=\\\"btn btn-default btn-sm\\\" v-on:click=loadLook($index) _v-02c85d1e=\\\"\\\">{{look.name}}</button> <button type=button class=\\\"btn btn-warning btn-sm\\\" v-on:click=deleteLook($index) _v-02c85d1e=\\\"\\\">✕</button> </div> </div> </div> </div> \";\n\n/***/ },\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(48)\n\t__vue_script__ = __webpack_require__(13)\n\t__vue_template__ = __webpack_require__(50)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(49)\n\t__vue_script__ = __webpack_require__(14)\n\t__vue_template__ = __webpack_require__(51)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.9cd88488866c59df7cc0.js\n **/","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: 'body',\n  components: { App }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","<template>\n  <div id=\"app\">\n    <wardrobe></wardrobe>\n  </div>\n</template>\n\n<script>\n  import wardrobe from './components/wardrobe'\n\n  export default {\n    components: {\n      wardrobe\n    }\n  }\n</script>\n\n<style>\n  html {\n    height: 100%;\n  }\n\n  body {\n    display: flex;\n    /*align-items: center;*/\n    justify-content: center;\n    height: 100%;\n  }\n\n  #app {\n    color: #2c3e50;\n    /*margin-top: -100px;*/\n    max-width: 1200px;\n    font-family: Source Sans Pro, Helvetica, sans-serif;\n    text-align: center;\n  }\n\n  #app a {\n    color: #42b983;\n    text-decoration: none;\n  }\n\n  .logo {\n    width: 100px;\n    height: 100px\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?6957cde0\n **/","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <template v-if=\"wardrobe.hasOwnProperty('top')\">\n      <p>Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p>\n    </template>\n    <button class=\"btn btn-primary\" v-on:click=\"loadWardrobe()\" v-if=\"wardrobe === 'empty'\">Загрузить гардероб\n    </button>\n    <template v-if=\"wardrobe.hasOwnProperty('top')\">\n      <button-group :value.sync=\"weather\" type=\"default\">\n        <radio value=\"winter\">Зима</radio>\n        <radio value=\"inter_season\">Межсезонье</radio>\n        <radio value=\"summer\">Лето</radio>\n      </button-group>\n      <button class=\"btn btn-link\" v-on:click=\"weather = 'any'\">< Без разницы</button>\n      <button class=\"btn btn-primary\" v-on:click=\"generateLook()\">Создать образ</button>\n      <button class=\"btn btn-default\" v-on:click=\"saveLook()\" v-if=\"look.main !== 'empty'\">Сохранить</button>\n    </template>\n    <div class=\"look\">\n      <div class=\"look__main\" v-if=\"look.main !== 'empty'\">\n        <div class=\"wardrobe-item\" v-for=\"(key, item) in look.main\" v-bind:class=\"getClass(key)\">\n          <img :src=\"'static/images/' + key + '/' + item\" :width=\"imgWidth\">\n        </div>\n      </div>\n      <div class=\"look__accessories\" v-if=\"look.accessories !== 'empty'\">\n        <div class=\"wardrobe-item\" v-for=\"(key, item) in look.accessories\">\n          <img :src=\"'static/images/accessories/' + key + '/' + item\" :width=\"imgWidth\">\n        </div>\n      </div>\n    </div>\n    <div>\n      <h3>Сохраненные образы</h3>\n      <div class=\"btn-toolbar saved-looks\" style=\"text-align:center;\">\n        <div class=\"btn-group\" role=\"group\" v-for=\"look in storedLooks\">\n          <button type=\"button\" class=\"btn btn-default btn-sm\" v-on:click=\"loadLook($index)\">{{look.name}}</button>\n          <button type=\"button\" class=\"btn btn-warning btn-sm\" v-on:click=\"deleteLook($index)\">✕</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {buttonGroup, radio} from 'vue-strap'\n  export default {\n\n    name: 'wardrobe',\n\n    components: {\n      'button-group': buttonGroup,\n      'radio': radio\n    },\n\n    data: () => ({\n      imgWidth: 150,\n      msg: 'Гардероб!',\n      wardrobe: 'empty',\n      weather: 'any',\n      accessories: 'empty',\n      look: {\n        main: 'empty',\n        accessories: 'empty'\n      },\n      storedLooks: []\n    }),\n\n    ready: function () {\n      let storedLooks = window.localStorage.getItem('storedLooks')\n      if (storedLooks) {\n        storedLooks = JSON.parse(storedLooks)\n        this.storedLooks = storedLooks\n      }\n    },\n\n    methods: {\n      saveLook: function () {\n        /**\n         *\n         * @param look {Object}\n         * @param storedLooks {Array}\n         * @returns {boolean}\n         */\n        const noEquals = (look, storedLooks) => {\n          let noEqual = true\n          for (let i = 0; i < this.storedLooks.length; ++i) {\n            if (JSON.stringify(storedLooks[i].look) === JSON.stringify(look)) {\n              noEqual = false\n              break\n            }\n          }\n          return noEqual\n        }\n        /**\n         * Get maximal number for a list of stored looks\n         */\n        const maxNum = () => {\n          let maxNum = 1\n          for (let i = 0; i < this.storedLooks.length; ++i) {\n            let curName = parseInt(this.storedLooks[i].name, 10)\n            if (curName >= maxNum) maxNum = curName + 1\n          }\n          return maxNum\n        }\n        if (this.look.main !== 'empty' && noEquals(this.look, this.storedLooks)) {\n          let lookToStore = {}\n          lookToStore.name = maxNum()\n          lookToStore.look = Object.assign({}, this.look)\n          this.storedLooks.push(lookToStore)\n          lookToStore = JSON.stringify(this.storedLooks)\n          window.localStorage.setItem('storedLooks', lookToStore)\n        }\n      },\n\n      deleteLook: function (idx) {\n        this.storedLooks.splice(idx, 1)\n        window.localStorage.setItem('storedLooks', JSON.stringify(this.storedLooks))\n      },\n\n      loadLook: function (idx) {\n        this.look = JSON.parse(JSON.stringify(this['storedLooks'][idx].look))\n      },\n\n      loadWardrobe: function () {\n        let x = new XMLHttpRequest()\n        x.open('GET', 'static/wardrobe.json', true)\n        x.send()\n        x.onreadystatechange = () => { // (3)\n          if (x.readyState !== 4) return\n          if (x.status !== 200) {\n            console.debug(x.status + ': ' + x.statusText) // исключение\n          } else {\n            let data = JSON.parse(x.responseText)\n            this.accessories = data.accessories\n            delete data.accessories\n            this.wardrobe = data\n          }\n        }\n      },\n      generateLook: function () {\n        /**\n         * Filter wardrobe objects according to weather field values\n         * @param wardrobeObj\n         * @returns {{}}\n         */\n        const filterWardrobe = (wardrobeObj) => {\n          let filtered = {}\n          Object.getOwnPropertyNames(wardrobeObj).forEach(group => {\n            if (group !== '__ob__') {\n              filtered[group] = []\n              wardrobeObj[group].forEach(item => {\n                if (item.weather.indexOf(this.weather) > -1) {\n                  filtered[group].push(item['path'])\n                } else if (this.weather === 'any') {\n                  filtered[group].push(item['path'])\n                }\n              })\n              if (filtered[group].length < 1) {\n                delete filtered[group]\n              }\n            }\n          })\n          return filtered\n        }\n        let tempLook = {}\n        let filteredWardrobe = filterWardrobe(this.wardrobe)\n        let filteredAccessories = filterWardrobe(this.accessories)\n        /**\n         * Returns decision between two string inputs\n         * @param grp1 {string}\n         * @param grp2 {string}\n         * @returns {string}\n         */\n        const decideOppGroups = (grp1, grp2) => {\n          let decision = [grp1, grp2]\n          return decision[Math.round(Math.random())]\n        }\n        let excludeGroup = decideOppGroups('bottom', 'dress')\n        Object.getOwnPropertyNames(filteredWardrobe).forEach(val => {\n          if (val !== '__ob__' && val !== excludeGroup) {\n            let index = Math.round(Math.random() * (filteredWardrobe[val].length - 1))\n            tempLook[val] = filteredWardrobe[val][index]\n          }\n        })\n        let accessories = {}\n        Object.getOwnPropertyNames(filteredAccessories).forEach(val => {\n          let decide = Math.random() - 0.5\n          if (decide > 0 && val !== '__ob__') {\n            let index = Math.round(Math.random() * (filteredAccessories[val].length - 1))\n            accessories[val] = filteredAccessories[val][index]\n          }\n        })\n        this.look.main = tempLook\n        this.look.accessories = accessories\n      },\n      /**\n       * Calculate total items in arrays of dictionary properties\n       * @param input {object}\n       * @returns {number}\n       */\n      calcItems: function (input) {\n        let total = 0\n        if (input instanceof Object) {\n          Object.getOwnPropertyNames(input).forEach(val => {\n            total = total + (input[val].length || 0)\n          })\n        }\n        return total\n      },\n      /**\n       * Return name of the class\n       * @param name {string}\n       */\n      getClass: name => (name)\n    },\n\n    created: function () {\n\n    }\n\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n  $main-top-offset = 20px\n  $main-bot-offset = 220px\n\n  h1\n    color: #42b983;\n\n  .list td\n    &:first-of-type\n      text-align: left;\n    &:last-of-type\n      text-align: right;\n\n  .wardrobe-item\n    display: inline-block;\n    position: absolute;\n    left: 400px;\n    &.top\n      top: $main-top-offset\n      left: calc(12.5% - 75px);\n    &.dress\n      top: $main-top-offset\n      left: calc(37.5% - 75px);\n    &.sweater\n      top: $main-top-offset\n      left: calc(62.5% - 75px);\n    &.coat\n      top: $main-top-offset\n      left: calc(87.5% - 75px);\n    &.bottom\n      top: $main-top-offset + $main-bot-offset\n      left: calc(50% - 75px);\n      z-index: -1;\n    &.shoes\n      top: $main-top-offset + $main-bot-offset\n      left: calc(32% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n    &.socks\n      top: $main-top-offset + $main-bot-offset\n      left: calc(75% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n\n  .look__main\n    position: relative;\n    width: 600px;\n    height: 480px;\n    margin: 0 auto;\n\n  .look__accessories\n    position: relative;\n    margin: 0 auto;\n    & .wardrobe-item\n      position: relative;\n      display inline-block\n      left: initial;\n    & img\n      width 80px\n\n  .saved-looks\n    display inline-block\n    text-align center\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** wardrobe.vue?4d0b95fa\n **/","module.exports = \" <div id=app> <wardrobe></wardrobe> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 50\n ** module chunks = 2\n **/","module.exports = \" <div class=hello _v-02c85d1e=\\\"\\\"> <h1 _v-02c85d1e=\\\"\\\">{{ msg }}</h1> <template v-if=\\\"wardrobe.hasOwnProperty('top')\\\"> <p _v-02c85d1e=\\\"\\\">Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p> </template> <button class=\\\"btn btn-primary\\\" v-on:click=loadWardrobe() v-if=\\\"wardrobe === 'empty'\\\" _v-02c85d1e=\\\"\\\">Загрузить гардероб </button> <template v-if=\\\"wardrobe.hasOwnProperty('top')\\\"> <button-group :value.sync=weather type=default _v-02c85d1e=\\\"\\\"> <radio value=winter _v-02c85d1e=\\\"\\\">Зима</radio> <radio value=inter_season _v-02c85d1e=\\\"\\\">Межсезонье</radio> <radio value=summer _v-02c85d1e=\\\"\\\">Лето</radio> </button-group> <button class=\\\"btn btn-link\\\" v-on:click=\\\"weather = 'any'\\\" _v-02c85d1e=\\\"\\\">&lt; Без разницы</button> <button class=\\\"btn btn-primary\\\" v-on:click=generateLook() _v-02c85d1e=\\\"\\\">Создать образ</button> <button class=\\\"btn btn-default\\\" v-on:click=saveLook() v-if=\\\"look.main !== 'empty'\\\" _v-02c85d1e=\\\"\\\">Сохранить</button> </template> <div class=look _v-02c85d1e=\\\"\\\"> <div class=look__main v-if=\\\"look.main !== 'empty'\\\" _v-02c85d1e=\\\"\\\"> <div class=wardrobe-item v-for=\\\"(key, item) in look.main\\\" v-bind:class=getClass(key) _v-02c85d1e=\\\"\\\"> <img :src=\\\"'static/images/' + key + '/' + item\\\" :width=imgWidth _v-02c85d1e=\\\"\\\"> </div> </div> <div class=look__accessories v-if=\\\"look.accessories !== 'empty'\\\" _v-02c85d1e=\\\"\\\"> <div class=wardrobe-item v-for=\\\"(key, item) in look.accessories\\\" _v-02c85d1e=\\\"\\\"> <img :src=\\\"'static/images/accessories/' + key + '/' + item\\\" :width=imgWidth _v-02c85d1e=\\\"\\\"> </div> </div> </div> <div _v-02c85d1e=\\\"\\\"> <h3 _v-02c85d1e=\\\"\\\">Сохраненные образы</h3> <div class=\\\"btn-toolbar saved-looks\\\" style=text-align:center _v-02c85d1e=\\\"\\\"> <div class=btn-group role=group v-for=\\\"look in storedLooks\\\" _v-02c85d1e=\\\"\\\"> <button type=button class=\\\"btn btn-default btn-sm\\\" v-on:click=loadLook($index) _v-02c85d1e=\\\"\\\">{{look.name}}</button> <button type=button class=\\\"btn btn-warning btn-sm\\\" v-on:click=deleteLook($index) _v-02c85d1e=\\\"\\\">✕</button> </div> </div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-02c85d1e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/wardrobe.vue\n ** module id = 51\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 52\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-02c85d1e&scoped=true!stylus-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./wardrobe.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./wardrobe.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-02c85d1e!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./wardrobe.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/wardrobe.vue\n ** module id = 53\n ** module chunks = 2\n **/"],"sourceRoot":""}