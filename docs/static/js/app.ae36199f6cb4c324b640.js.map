{"version":3,"sources":["webpack:///static/js/app.ae36199f6cb4c324b640.js","webpack:///./src/main.js","webpack:///./src/wardrobe-store-fs/index.js","webpack:///./src/components/look.vue","webpack:///./src/looks-store/index.js","webpack:///./src/wardrobe-store-fs/pica.js","webpack:///./src/wardrobe-store/index.js","webpack:///App.vue","webpack:///about.vue","webpack:///look.vue","webpack:///wardrobe.vue","webpack:///item-upload.vue","webpack:///./src/App.vue","webpack:///./src/components/about.vue","webpack:///./src/components/wardrobe.vue","webpack:///./src/components/wardrobe/item-upload.vue","webpack:///./src/App.vue?f060","webpack:///./src/components/about.vue?6c78","webpack:///./src/components/wardrobe.vue?9ea3","webpack:///./src/components/look.vue?b071","webpack:///./src/components/wardrobe/item-upload.vue?9d12"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_vueRouter","_vueRouter2","_App","_App2","_look","_look2","_wardrobe","_wardrobe2","_about","_about2","config","devtools","use","routes","path","component","redirect","router","el","render","h","18","Object","defineProperty","value","_stringify","_stringify2","_es6Promise","_pica","_pica2","fsStore","megabytes","arguments","length","undefined","saveWD","window","localStorage","setItem","WARDROBE","loadWD","JSON","parse","getItem","resize","src","Promise","resolve","reject","MAX_HEIGHT","image","Image","canvas","document","createElement","onload","height","width","resizeCanvas","quality","alpha","unsharpAmount","unsharpRadius","unsharpThreshold","transferable","err","console","log","toBlob","blob","_fs","requestFileSystem","webkitRequestFileSystem","init","navigator","webkitPersistentStorage","requestQuota","grantedBytes","PERSISTENT","filesystem","name","error","message","getAllItems","slice","uid","root","getFile","create","fileEntry","remove","found","i","splice","Error","then","add","file","season","type","url","size","exclusive","createWriter","fileWriter","onwriteend","getMetadata","metadata","toURL","push","fileURL","onerror","e","toString","fr","FileReader","target","result","newblob","dir","write","readAsDataURL","48","__vue_exports__","__vue_options__","__vue_template__","options","staticRenderFns","_scopeId","49","_assign","_assign2","items","saveItems","looks","get","storedLooks","newLook","noEquals","look","noEqual","maxNum","curName","parseInt","main","lookToStore","delete","idx","50","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","require","_getOwnPropertySymbols","_getOwnPropertySymbols2","_keys","_keys2","_getOwnPropertyNames","_getOwnPropertyNames2","_typeof2","_typeof3","f","apply","t","n","r","s","o","u","a","code","l","call","1","2","lastId","3","Pool","this","available","acquired","timeoutId","IDLE","TIMEOUT","prototype","acquire","resource","self","pop","id","release","lastUsed","Date","now","setTimeout","gc","bind","filter","destroy","4","clampTo8","toFixedPoint","num","Math","round","FIXED_FRAC_BITS","createFilters","srcSize","destSize","scale","offset","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","floatVal","filterTotal","filterVal","leftNotEmpty","rightNotEmpty","filterShift","filterSize","filterFunction","FILTER_INFO","scaleInverted","scaleClamped","min","srcWindow","win","maxFilterElementSize","floor","packedFilter","Int16Array","packedFilterPtr","max","ceil","Float32Array","set","subarray","convolveHorizontally","dest","srcW","srcH","destW","filters","g","b","filterPtr","srcPtr","srcY","destX","srcOffset","destOffset","convolveVertically","resetAlpha","dst","ptr","len","toWidth","destH","toHeight","scaleX","scaleY","offsetX","offsetY","Uint8Array","filtersX","filtersY","tmp","x","xpi","PI","sin","cos","5","getLightness","img","out","Uint16Array","unsharp","amount","radius","threshold","m1","m2","hShifted","diff","iTimes4","lightness","blured","glurMono16","amountFp","thresholdFp","abs","glur/mono16","6","pixelFloor","nearest","PIXEL_EPSILON","pixelCeil","createRegions","y","innerX","innerY","toTileWidth","toTileHeight","tile","innerTileWidth","srcTileSize","destTileBorder","innerTileHeight","tiles","toX","toY","toInnerX","toInnerY","toInnerWidth","toInnerHeight","eachLimit","list","limit","iterator","callback","next","failed","finished","executed","7","onmessage","ev","data","postMessage","output","buffer","./resize_array","./unsharp","8","resize_js","from","to","toCtx","getContext","Boolean","fromTile","createCanvas","SRC_TILE_SIZE","fromTileCtx","globalCompositeOperation","regions","naturalWidth","naturalHeight","DEST_TILE_BORDER","drawImage","fromImageData","getImageData","toImageData","createImageData","_opts","putImageData","generateId","terminate","./js/create_canvas","./js/generate_id","./js/resize_array","./js/unsharp","./js/utils","9","resize_js_ww","concurrency","hardwareConcurrency","_id","running","worker","workersPool","imageDataTo","NEED_SAFARI_FIX","webworkify","resizeWorker","userAgent","indexOf","URL","webkitURL","mozURL","msURL","revokeObjectURL","objectURL","./js/pool","./js/worker.js","10","msg","__","checkGlError","gl","getError","NO_ERROR","createGl","createShader","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","createProgram","vertexShader","fragmentShader","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","setAttributeValues","values","getAttribLocation","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","elementSize","FLOAT","setUniform1i","i0","getUniformLocation","uniform1i","setUniform2f","f0","f1","uniform2f","loadTexture","texUnit","tex","createTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","createTextureSize","setupTextureFBO","texture","oldFbo","getParameter","FRAMEBUFFER_BINDING","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","vec2Rectangle","w","x1","x2","y1","y2","generateFragmentShader","float","v","toFixed","template","shadersContent","direction","scaleW","texW","scaleH","texH","winSize","isHorizontal","pixelSizeX","pixelSizeY","pixelSize","count","kv","p","px","py","replace","createProgramOptimized","VERTEX_SHADER","FRAGMENT_SHADER","convolveOptimized","texUnit0","flipY","programOptions","useProgram","viewport","fboObject","drawArrays","TRIANGLES","webglProcessResizeOptimized","dstW","dstH","texUnit1","texUnit2","finalFboObject","flush","fb","fb_status","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","clearColor","colorMask","clear","COLOR_BUFFER_BIT","pixels","readPixels","body","appendChild","finish","removeChild","ctxTo","11","gaussCoef","sigma","exp","g1","g2","k","a0","a1","a2","a3","b1","b2","left_corner","right_corner","convolveMono16","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","j","coeff_a0","coeff_a1","coeff_b1","coeff_b2","blurMono16","tmp_line","12","toObject","val","TypeError","shouldUseNative","test1","String","test2","fromCharCode","order2","map","join","test3","split","forEach","letter","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","source","symbols","key","13","bundleFn","sources","cache","stringify","fn","resolveSources","workerSources","depPath","depKey","wkey","cacheKeys","pow","random","wcache","Function","skey","scache","Blob","bare","workerUrl","createObjectURL","Worker","/","_class","isFunction","isNaN","WEBGL","debug","resize_webgl","assign","WORKER","WW","resizeBuffer","resize_array","wkr","__cvs","WebGLRenderingContext","./lib/js/resize_array","./lib/js/unsharp","./lib/resize_js","./lib/resize_js_ww","./lib/resize_webgl","object-assign","51","_wardrobeStoreFs","_wardrobeStoreFs2","store","wardrobe","accessories","loadWardrobe","rawData","item","generateLook","weather","filterWardrobe","wardrobeObj","filtered","group","decideOppGroups","grp1","grp2","decision","filteredWardrobe","filteredAccessories","excludeGroup","index","decide","52","components","53","methods","54","_wardrobeStore","_wardrobeStore2","_looksStore","_looksStore2","imgWidth","computed","canCreateLook","mounted","_this","saveLook","deleteLook","loadLook","_this2","calcItems","input","55","_itemUpload","_itemUpload2","item-upload","created","56","fileOnChange","imageFile","files","previewSRC","submit","seasonsCurrent","itemTypeCurrent","upload","status","updated","containsTypeVal","typesPresentInWardrobe","_this3","itemTypes","validation","seasons","95","96","97","98","99","101","102","103","104","105","_h","attrs","staticClass","_m","106","107","role","108","_e","_s","domProps","checked","_q","on","change","$event","click","_l","class","style","for","109","accept","chosen","directives","expression","modifiers","lazy","Array","selected","_value","isArray","_i","$$a","$$el","$$c","$$v","$$i","concat","disabled","alt","nopin","112"],"mappings":"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","file":"static/js/app.ae36199f6cb4c324b640.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(111);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(110);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _App = __webpack_require__(101);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _look = __webpack_require__(48);\n\t\n\tvar _look2 = _interopRequireDefault(_look);\n\t\n\tvar _wardrobe = __webpack_require__(103);\n\t\n\tvar _wardrobe2 = _interopRequireDefault(_wardrobe);\n\t\n\tvar _about = __webpack_require__(102);\n\t\n\tvar _about2 = _interopRequireDefault(_about);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.config.devtools = true;\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t\n\tvar routes = [{ path: '/about', component: _about2.default }, { path: '/look', component: _look2.default }, { path: '/wardrobe', component: _wardrobe2.default }, { path: '*', redirect: '/look' }];\n\t\n\tvar router = new _vueRouter2.default({\n\t  routes: routes\n\t});\n\t\n\tnew _vue2.default({\n\t  router: router,\n\t  el: 'app',\n\t  render: function render(h) {\n\t    return h(_App2.default);\n\t  }\n\t});\n\n/***/ },\n\n/***/ 18:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(11);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _es6Promise = __webpack_require__(47);\n\t\n\tvar _pica = __webpack_require__(50);\n\t\n\tvar _pica2 = _interopRequireDefault(_pica);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fsStore = {};\n\texports.default = fsStore;\n\t\n\t\n\tvar megabytes = function megabytes() {\n\t  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n\t  return 1024 * 1024 * value;\n\t};\n\tvar saveWD = function saveWD() {\n\t  window.localStorage.setItem('wd_fs', (0, _stringify2.default)(WARDROBE));\n\t};\n\tvar loadWD = function loadWD() {\n\t  return JSON.parse(window.localStorage.getItem('wd_fs'));\n\t};\n\t\n\tvar resize = function resize(src) {\n\t  return new _es6Promise.Promise(function (resolve, reject) {\n\t    var MAX_HEIGHT = 500;\n\t    var image = new Image();\n\t    image.src = src;\n\t    var canvas = document.createElement('canvas');\n\t    image.onload = function () {\n\t      if (image.height > MAX_HEIGHT) {\n\t        image.width *= MAX_HEIGHT / image.height;\n\t        image.height = MAX_HEIGHT;\n\t      }\n\t      canvas.width = image.width;\n\t      canvas.height = image.height;\n\t      _pica2.default.resizeCanvas(image, canvas, {\n\t        quality: 2,\n\t        alpha: true,\n\t        unsharpAmount: 50,\n\t        unsharpRadius: 0.51,\n\t        unsharpThreshold: 75,\n\t        transferable: true\n\t      }, function (err) {\n\t        if (err) {\n\t          console.log(err);\n\t          reject(err);\n\t          return;\n\t        }\n\t        canvas.toBlob(function (blob) {\n\t          resolve(blob);\n\t        }, 'image/jpeg', 0.90);\n\t      });\n\t    };\n\t    image.src = src;\n\t  });\n\t};\n\t\n\tvar WARDROBE = loadWD() || [];\n\tvar _fs = null;\n\t\n\twindow.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n\t\n\tfsStore.init = function () {\n\t  return new _es6Promise.Promise(function (resolve, reject) {\n\t    navigator.webkitPersistentStorage.requestQuota(megabytes(), function (grantedBytes) {\n\t      console.log('Замусолили ', grantedBytes, 'байт. Спасибо, на всю жизнь хватит теперь!');\n\t      window.webkitRequestFileSystem(window.PERSISTENT, grantedBytes, function (filesystem) {\n\t        _fs = filesystem;\n\t        resolve('Opened file system: ' + _fs.name);\n\t      }, function (error) {\n\t        reject('Палундра! Мне нужно твое разрешение на сохранение файлов! ' + error.message);\n\t      });\n\t    });\n\t  });\n\t};\n\tfsStore.getAllItems = function () {\n\t  return WARDROBE.slice(0);\n\t};\n\t\n\tfsStore.delete = function (uid) {\n\t  return new _es6Promise.Promise(function (resolve, reject) {\n\t    if (_fs) {\n\t      _fs.root.getFile(uid, { create: false }, function (fileEntry) {\n\t        fileEntry.remove(function () {\n\t          var found = false;\n\t          for (var i = 0; i < WARDROBE.length; ++i) {\n\t            if (WARDROBE[i].uid === uid) {\n\t              console.log(WARDROBE[i].uid, uid);\n\t              WARDROBE.splice(i, 1);\n\t              found = true;\n\t              saveWD();\n\t              resolve(fsStore.getAllItems());\n\t            }\n\t          }\n\t          if (!found) reject(new Error('Нарушена целостность данных!'));\n\t          console.log('File removed.');\n\t        }, function (error) {\n\t          reject(new Error('Не получилось удалить фотографию...' + error.message));\n\t        });\n\t      }, function () {\n\t        reject(new Error('Рассеянный стал, файл потерял по пути. Повтори будь ласка!'));\n\t      });\n\t    } else {\n\t      fsStore.init().then(function () {\n\t        fsStore.delete(uid);\n\t      }, function (error) {\n\t        reject(new Error('Попробуй еще раз, но в Google Chrome' + error.message));\n\t      });\n\t    }\n\t  });\n\t};\n\t\n\tfsStore.add = function (file, season, type) {\n\t  var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\t  return new _es6Promise.Promise(function (resolve, reject) {\n\t    var url = null;\n\t\n\t    if (!file) {\n\t      reject(new Error('Картиночку не забываем, пожалуйста'));\n\t      return;\n\t    }\n\t    if (!type) {\n\t      reject(new Error('А что за вещичка? Пальтишко али сапожки?'));\n\t      return;\n\t    }\n\t    if (!name) name = file.name;\n\t    if (file.size > megabytes(12)) {\n\t      reject(new Error('Мне бы файл поменьше, поперхнулся я. Дай на 11 мегабайт хотя бы, а?'));\n\t      return;\n\t    }\n\t\n\t    for (var i = 0; i < WARDROBE.length; ++i) {\n\t      console.log(WARDROBE[i].uid);\n\t      if (WARDROBE[i].uid === file.name) {\n\t        reject(new Error('Такая вещичка уже есть!'));\n\t        return;\n\t      }\n\t    }\n\t    if (_fs) {\n\t      _fs.root.getFile(name, { create: true, exclusive: false }, function (fileEntry) {\n\t        fileEntry.createWriter(function (fileWriter) {\n\t          fileWriter.onwriteend = function () {\n\t            console.log('Write completed.');\n\t            fileEntry.getMetadata(function (metadata) {\n\t              console.log(metadata);\n\t            });\n\t            url = fileEntry.toURL();\n\t            WARDROBE.push({\n\t              uid: name,\n\t              fileURL: url,\n\t              season: season,\n\t              type: type\n\t            });\n\t            saveWD();\n\t            resolve(url);\n\t          };\n\t          fileWriter.onerror = function (e) {\n\t            reject(new Error('Что-то пошло совсем не по плану... ' + e.toString()));\n\t          };\n\t          var fr = new FileReader();\n\t          fr.onload = function (e) {\n\t            resize(e.target.result).then(function (newblob) {\n\t              console.dir(newblob);\n\t              fileWriter.write(newblob);\n\t            }).catch(reject);\n\t          };\n\t          fr.onerror = reject;\n\t          fr.readAsDataURL(file);\n\t        });\n\t      }, function () {\n\t        reject(new Error('Рассеянный стал, файл потерял по пути. Повтори будь ласка!'));\n\t      });\n\t    } else {\n\t      fsStore.init().then(function () {\n\t        fsStore.add(file, season, type, name);\n\t      }, function (error) {\n\t        reject(new Error('Попробуй еще раз, но в Google Chrome. ' + error.toString()));\n\t      });\n\t    }\n\t  });\n\t};\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(98)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(54)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(108)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-4\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(19);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _stringify = __webpack_require__(11);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar items = [];\n\tvar saveItems = function saveItems() {\n\t  window.localStorage.setItem('storedLooks', (0, _stringify2.default)(items));\n\t};\n\t\n\tvar looks = {\n\t  get: function get() {\n\t    if (items.length > 0) return items;\n\t    var storedLooks = window.localStorage.getItem('storedLooks');\n\t    if (storedLooks) {\n\t      items.length = 0;\n\t      items = JSON.parse(storedLooks);\n\t      console.log(items);\n\t    }\n\t    return items;\n\t  },\n\t\n\t  add: function add(newLook) {\n\t    var noEquals = function noEquals(look, storedLooks) {\n\t      var noEqual = true;\n\t      for (var i = 0; i < storedLooks.length; ++i) {\n\t        if ((0, _stringify2.default)(storedLooks[i].look) === (0, _stringify2.default)(look)) {\n\t          noEqual = false;\n\t          break;\n\t        }\n\t      }\n\t      return noEqual;\n\t    };\n\t\n\t    var maxNum = function maxNum() {\n\t      var maxNum = 1;\n\t      for (var i = 0; i < items.length; ++i) {\n\t        var curName = parseInt(items[i].name, 10);\n\t        if (curName >= maxNum) maxNum = curName + 1;\n\t      }\n\t      return maxNum;\n\t    };\n\t    if (newLook.main !== 'empty' && noEquals(newLook, items)) {\n\t      var lookToStore = {};\n\t      lookToStore.name = maxNum();\n\t      lookToStore.look = (0, _assign2.default)({}, newLook);\n\t      items.push(lookToStore);\n\t      saveItems();\n\t    }\n\t  },\n\t\n\t  delete: function _delete(idx) {\n\t    items.splice(idx, 1);\n\t    saveItems();\n\t  }\n\t};\n\t\n\texports.default = looks;\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(11);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _getOwnPropertySymbols = __webpack_require__(57);\n\t\n\tvar _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);\n\t\n\tvar _keys = __webpack_require__(34);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _getOwnPropertyNames = __webpack_require__(33);\n\t\n\tvar _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);\n\t\n\tvar _assign = __webpack_require__(19);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _typeof2 = __webpack_require__(60);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (f) {\n\t  var g;\n\t  if (( false ? \"undefined\" : (0, _typeof3.default)(exports)) === \"object\" && typeof module !== \"undefined\") {\n\t    module.exports = f();\n\t  } else if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (f), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else {\n\t    if (typeof window !== \"undefined\") {\n\t      g = window;\n\t    } else if (typeof global !== \"undefined\") {\n\t      g = global;\n\t    } else if (typeof self !== \"undefined\") {\n\t      g = self;\n\t    } else {\n\t      g = this;\n\t    }\n\t    g.pica = f();\n\t  }\n\t  return f();\n\t}(function () {\n\t  var define, module, exports;\n\t  return function e(t, n, r) {\n\t    function s(o, u) {\n\t      if (!n[o]) {\n\t        if (!t[o]) {\n\t          var a = typeof require == \"function\" && require;\n\t          if (!u && a) return require(o, !0);\n\t          if (i) return i(o, !0);\n\t          var f = new Error(\"Cannot find module '\" + o + \"'\");\n\t          throw f.code = \"MODULE_NOT_FOUND\", f;\n\t        }\n\t        var l = n[o] = { exports: {} };\n\t        t[o][0].call(l.exports, function (e) {\n\t          var n = t[o][1][e];\n\t          return s(n ? n : e);\n\t        }, l, l.exports, e, t, n, r);\n\t      }\n\t      return n[o].exports;\n\t    }\n\t\n\t    var i = typeof require == \"function\" && require;\n\t    for (var o = 0; o < r.length; o++) {\n\t      s(r[o]);\n\t    }return s;\n\t  }({\n\t    1: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      module.exports = function () {\n\t        return document.createElement('canvas');\n\t      };\n\t    }, {}],\n\t    2: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var lastId = 1;\n\t\n\t      module.exports = function () {\n\t        return lastId++;\n\t      };\n\t    }, {}],\n\t    3: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var IDLE = 2000;\n\t      var TIMEOUT = 500;\n\t\n\t      function Pool(create) {\n\t        this.create = create;\n\t\n\t        this.available = [];\n\t        this.acquired = {};\n\t        this.lastId = 1;\n\t\n\t        this.timeoutId = 0;\n\t      }\n\t\n\t      Pool.prototype.acquire = function () {\n\t        var self = this;\n\t        var resource;\n\t        if (this.available.length !== 0) {\n\t          resource = this.available.pop();\n\t        } else {\n\t          resource = this.create();\n\t          resource.id = this.lastId++;\n\t          resource.release = function () {\n\t            self.release(resource);\n\t          };\n\t        }\n\t        this.acquired[resource.id] = resource;\n\t        return resource;\n\t      };\n\t\n\t      Pool.prototype.release = function (resource) {\n\t        delete this.acquired[resource.id];\n\t        resource.lastUsed = Date.now();\n\t        this.available.push(resource);\n\t\n\t        if (this.timeoutId === 0) {\n\t          this.timeoutId = setTimeout(this.gc.bind(this), TIMEOUT);\n\t        }\n\t      };\n\t\n\t      Pool.prototype.gc = function () {\n\t        var now = Date.now();\n\t\n\t        this.available = this.available.filter(function (resource) {\n\t          if (now - resource.lastUsed > IDLE) {\n\t            resource.destroy();\n\t            return false;\n\t          }\n\t          return true;\n\t        });\n\t\n\t        if (this.available.length !== 0) {\n\t          this.timeoutId = setTimeout(this.gc.bind(this), TIMEOUT);\n\t        } else {\n\t          this.timeoutId = 0;\n\t        }\n\t      };\n\t\n\t      module.exports = Pool;\n\t    }, {}],\n\t    4: [function (require, module, exports) {\n\t\n\t      'use strict';\n\t\n\t      var FIXED_FRAC_BITS = 14;\n\t\n\t      var FILTER_INFO = [{\n\t        win: 0.5,\n\t        filter: function filter(x) {\n\t          return x >= -0.5 && x < 0.5 ? 1.0 : 0.0;\n\t        }\n\t      }, {\n\t        win: 1.0,\n\t        filter: function filter(x) {\n\t          if (x <= -1.0 || x >= 1.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n\t        }\n\t      }, {\n\t        win: 2.0,\n\t        filter: function filter(x) {\n\t          if (x <= -2.0 || x >= 2.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n\t        }\n\t      }, {\n\t        win: 3.0,\n\t        filter: function filter(x) {\n\t          if (x <= -3.0 || x >= 3.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n\t        }\n\t      }];\n\t\n\t      function clampTo8(i) {\n\t        return i < 0 ? 0 : i > 255 ? 255 : i;\n\t      }\n\t\n\t      function toFixedPoint(num) {\n\t        return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n\t      }\n\t\n\t      function createFilters(quality, srcSize, destSize, scale, offset) {\n\t\n\t        var filterFunction = FILTER_INFO[quality].filter;\n\t\n\t        var scaleInverted = 1.0 / scale;\n\t        var scaleClamped = Math.min(1.0, scale);\n\t        var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n\t\n\t        var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n\t        var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n\t\n\t        var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n\t        var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n\t        var packedFilterPtr = 0;\n\t\n\t        for (destPixel = 0; destPixel < destSize; destPixel++) {\n\t          srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n\t\n\t          srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n\t          srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n\t\n\t          filterElementSize = srcLast - srcFirst + 1;\n\t          floatFilter = new Float32Array(filterElementSize);\n\t          fxpFilter = new Int16Array(filterElementSize);\n\t\n\t          total = 0.0;\n\t\n\t          for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n\t            floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n\t            total += floatVal;\n\t            floatFilter[idx] = floatVal;\n\t          }\n\t\n\t          filterTotal = 0;\n\t\n\t          for (idx = 0; idx < floatFilter.length; idx++) {\n\t            filterVal = floatFilter[idx] / total;\n\t            filterTotal += filterVal;\n\t            fxpFilter[idx] = toFixedPoint(filterVal);\n\t          }\n\t\n\t          fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal);\n\t\n\t          leftNotEmpty = 0;\n\t          while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n\t            leftNotEmpty++;\n\t          }\n\t\n\t          if (leftNotEmpty < fxpFilter.length) {\n\t            rightNotEmpty = fxpFilter.length - 1;\n\t            while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n\t              rightNotEmpty--;\n\t            }\n\t\n\t            filterShift = srcFirst + leftNotEmpty;\n\t            filterSize = rightNotEmpty - leftNotEmpty + 1;\n\t\n\t            packedFilter[packedFilterPtr++] = filterShift;\n\t            packedFilter[packedFilterPtr++] = filterSize;\n\t\n\t            packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n\t            packedFilterPtr += filterSize;\n\t          } else {\n\t            packedFilter[packedFilterPtr++] = 0;\n\t            packedFilter[packedFilterPtr++] = 0;\n\t          }\n\t        }\n\t        return packedFilter;\n\t      }\n\t\n\t      function convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n\t\n\t        var r, g, b, a;\n\t        var filterPtr, filterShift, filterSize;\n\t        var srcPtr, srcY, destX, filterVal;\n\t        var srcOffset = 0,\n\t            destOffset = 0;\n\t\n\t        for (srcY = 0; srcY < srcH; srcY++) {\n\t          filterPtr = 0;\n\t\n\t          for (destX = 0; destX < destW; destX++) {\n\t            filterShift = filters[filterPtr++];\n\t            filterSize = filters[filterPtr++];\n\t\n\t            srcPtr = srcOffset + filterShift * 4 | 0;\n\t\n\t            r = g = b = a = 0;\n\t\n\t            for (; filterSize > 0; filterSize--) {\n\t              filterVal = filters[filterPtr++];\n\t\n\t              a = a + filterVal * src[srcPtr + 3] | 0;\n\t              b = b + filterVal * src[srcPtr + 2] | 0;\n\t              g = g + filterVal * src[srcPtr + 1] | 0;\n\t              r = r + filterVal * src[srcPtr] | 0;\n\t              srcPtr = srcPtr + 4 | 0;\n\t            }\n\t\n\t            dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n\t            dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n\t            dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n\t            dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n\t            destOffset = destOffset + srcH * 4 | 0;\n\t          }\n\t\n\t          destOffset = (srcY + 1) * 4 | 0;\n\t          srcOffset = (srcY + 1) * srcW * 4 | 0;\n\t        }\n\t      }\n\t\n\t      function convolveVertically(src, dest, srcW, srcH, destW, filters) {\n\t\n\t        var r, g, b, a;\n\t        var filterPtr, filterShift, filterSize;\n\t        var srcPtr, srcY, destX, filterVal;\n\t        var srcOffset = 0,\n\t            destOffset = 0;\n\t\n\t        for (srcY = 0; srcY < srcH; srcY++) {\n\t          filterPtr = 0;\n\t\n\t          for (destX = 0; destX < destW; destX++) {\n\t            filterShift = filters[filterPtr++];\n\t            filterSize = filters[filterPtr++];\n\t\n\t            srcPtr = srcOffset + filterShift * 4 | 0;\n\t\n\t            r = g = b = a = 0;\n\t\n\t            for (; filterSize > 0; filterSize--) {\n\t              filterVal = filters[filterPtr++];\n\t\n\t              a = a + filterVal * src[srcPtr + 3] | 0;\n\t              b = b + filterVal * src[srcPtr + 2] | 0;\n\t              g = g + filterVal * src[srcPtr + 1] | 0;\n\t              r = r + filterVal * src[srcPtr] | 0;\n\t              srcPtr = srcPtr + 4 | 0;\n\t            }\n\t\n\t            dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n\t            dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n\t            dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n\t            dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n\t            destOffset = destOffset + srcH * 4 | 0;\n\t          }\n\t\n\t          destOffset = (srcY + 1) * 4 | 0;\n\t          srcOffset = (srcY + 1) * srcW * 4 | 0;\n\t        }\n\t      }\n\t\n\t      function resetAlpha(dst, width, height) {\n\t        var ptr = 3,\n\t            len = width * height * 4 | 0;\n\t        while (ptr < len) {\n\t          dst[ptr] = 0xFF;\n\t          ptr = ptr + 4 | 0;\n\t        }\n\t      }\n\t\n\t      function resize(options) {\n\t        var src = options.src;\n\t        var srcW = options.width;\n\t        var srcH = options.height;\n\t        var destW = options.toWidth;\n\t        var destH = options.toHeight;\n\t        var scaleX = options.scaleX || options.toWidth / options.width;\n\t        var scaleY = options.scaleY || options.toHeight / options.height;\n\t        var offsetX = options.offsetX || 0;\n\t        var offsetY = options.offsetY || 0;\n\t        var dest = options.dest || new Uint8Array(destW * destH * 4);\n\t        var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n\t        var alpha = options.alpha || false;\n\t\n\t        if (srcW < 1 || srcH < 1 || destW < 1 || destH < 1) {\n\t          return [];\n\t        }\n\t\n\t        var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n\t            filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n\t\n\t        var tmp = new Uint8Array(destW * srcH * 4);\n\t\n\t        convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n\t        convolveVertically(tmp, dest, srcH, destW, destH, filtersY);\n\t\n\t        if (!alpha) {\n\t          resetAlpha(dest, destW, destH);\n\t        }\n\t\n\t        return dest;\n\t      }\n\t\n\t      module.exports = resize;\n\t    }, {}],\n\t    5: [function (require, module, exports) {\n\t\n\t      'use strict';\n\t\n\t      var glurMono16 = require('glur/mono16');\n\t\n\t      function getLightness(img, width, height) {\n\t        var size = width * height;\n\t        var out = new Uint16Array(size);\n\t        var r, g, b, min, max;\n\t        for (var i = 0; i < size; i++) {\n\t          r = img[4 * i];\n\t          g = img[4 * i + 1];\n\t          b = img[4 * i + 2];\n\t          max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n\t          min = r <= g && r <= b ? r : g <= b && g <= r ? g : b;\n\t          out[i] = (max + min) * 257 >> 1;\n\t        }\n\t        return out;\n\t      }\n\t\n\t      function unsharp(img, width, height, amount, radius, threshold) {\n\t        var r, g, b;\n\t        var h, s, l;\n\t        var min, max;\n\t        var m1, m2, hShifted;\n\t        var diff, iTimes4;\n\t\n\t        if (amount === 0 || radius < 0.5) {\n\t          return;\n\t        }\n\t        if (radius > 2.0) {\n\t          radius = 2.0;\n\t        }\n\t\n\t        var lightness = getLightness(img, width, height);\n\t\n\t        var blured = new Uint16Array(lightness);\n\t\n\t        glurMono16(blured, width, height, radius);\n\t\n\t        var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n\t        var thresholdFp = threshold * 257 | 0;\n\t\n\t        var size = width * height;\n\t\n\t        for (var i = 0; i < size; i++) {\n\t          diff = 2 * (lightness[i] - blured[i]);\n\t\n\t          if (Math.abs(diff) >= thresholdFp) {\n\t            iTimes4 = i * 4;\n\t            r = img[iTimes4];\n\t            g = img[iTimes4 + 1];\n\t            b = img[iTimes4 + 2];\n\t\n\t            max = r >= g && r >= b ? r : g >= r && g >= b ? g : b;\n\t            min = r <= g && r <= b ? r : g <= r && g <= b ? g : b;\n\t            l = (max + min) * 257 >> 1;\n\t\n\t            if (min === max) {\n\t              h = s = 0;\n\t            } else {\n\t              s = l <= 0x7fff ? (max - min) * 0xfff / (max + min) | 0 : (max - min) * 0xfff / (2 * 0xff - max - min) | 0;\n\t              h = r === max ? (g - b) * 0xffff / (6 * (max - min)) | 0 : g === max ? 0x5555 + ((b - r) * 0xffff / (6 * (max - min)) | 0) : 0xaaaa + ((r - g) * 0xffff / (6 * (max - min)) | 0);\n\t            }\n\t\n\t            l += amountFp * diff + 0x800 >> 12;\n\t            if (l > 0xffff) {\n\t              l = 0xffff;\n\t            } else if (l < 0) {\n\t              l = 0;\n\t            }\n\t\n\t            if (s === 0) {\n\t              r = g = b = l >> 8;\n\t            } else {\n\t              m2 = l <= 0x7fff ? l * (0x1000 + s) + 0x800 >> 12 : l + ((0xffff - l) * s + 0x800 >> 12);\n\t              m1 = 2 * l - m2 >> 8;\n\t              m2 >>= 8;\n\t\n\t              hShifted = h + 0x5555 & 0xffff;\n\t              r = hShifted >= 0xaaaa ? m1 : hShifted >= 0x7fff ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16) : hShifted >= 0x2aaa ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n\t\n\t              hShifted = h & 0xffff;\n\t              g = hShifted >= 0xaaaa ? m1 : hShifted >= 0x7fff ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16) : hShifted >= 0x2aaa ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n\t\n\t              hShifted = h - 0x5555 & 0xffff;\n\t              b = hShifted >= 0xaaaa ? m1 : hShifted >= 0x7fff ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16) : hShifted >= 0x2aaa ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n\t            }\n\t\n\t            img[iTimes4] = r;\n\t            img[iTimes4 + 1] = g;\n\t            img[iTimes4 + 2] = b;\n\t          }\n\t        }\n\t      }\n\t\n\t      module.exports = unsharp;\n\t      module.exports.lightness = getLightness;\n\t    }, { \"glur/mono16\": 11 }],\n\t    6: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var PIXEL_EPSILON = 1e-5;\n\t\n\t      function pixelFloor(x) {\n\t        var nearest = Math.round(x);\n\t\n\t        if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n\t          return nearest;\n\t        }\n\t        return Math.floor(x);\n\t      }\n\t\n\t      function pixelCeil(x) {\n\t        var nearest = Math.round(x);\n\t\n\t        if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n\t          return nearest;\n\t        }\n\t        return Math.ceil(x);\n\t      }\n\t\n\t      module.exports.createRegions = function createRegions(options) {\n\t        var scaleX = options.toWidth / options.width;\n\t        var scaleY = options.toHeight / options.height;\n\t\n\t        var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n\t        var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder;\n\t\n\t        var x, y;\n\t        var innerX, innerY, toTileWidth, toTileHeight;\n\t        var tiles = [];\n\t        var tile;\n\t\n\t        for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n\t          for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n\t            x = innerX - options.destTileBorder;\n\t            if (x < 0) {\n\t              x = 0;\n\t            }\n\t            toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\t            if (x + toTileWidth >= options.toWidth) {\n\t              toTileWidth = options.toWidth - x;\n\t            }\n\t\n\t            y = innerY - options.destTileBorder;\n\t            if (y < 0) {\n\t              y = 0;\n\t            }\n\t            toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\t            if (y + toTileHeight >= options.toHeight) {\n\t              toTileHeight = options.toHeight - y;\n\t            }\n\t\n\t            tile = {\n\t              toX: x,\n\t              toY: y,\n\t              toWidth: toTileWidth,\n\t              toHeight: toTileHeight,\n\t\n\t              toInnerX: innerX,\n\t              toInnerY: innerY,\n\t              toInnerWidth: innerTileWidth,\n\t              toInnerHeight: innerTileHeight,\n\t\n\t              offsetX: x / scaleX - pixelFloor(x / scaleX),\n\t              offsetY: y / scaleY - pixelFloor(y / scaleY),\n\t              scaleX: scaleX,\n\t              scaleY: scaleY,\n\t\n\t              x: pixelFloor(x / scaleX),\n\t              y: pixelFloor(y / scaleY),\n\t              width: pixelCeil(toTileWidth / scaleX),\n\t              height: pixelCeil(toTileHeight / scaleY)\n\t            };\n\t\n\t            tiles.push(tile);\n\t          }\n\t        }\n\t\n\t        return tiles;\n\t      };\n\t\n\t      module.exports.eachLimit = function eachLimit(list, limit, iterator, callback) {\n\t        if (list.length === 0) {\n\t          callback();\n\t        }\n\t\n\t        var executed = 0;\n\t        var finished = 0;\n\t        var failed = false;\n\t\n\t        function next(err) {\n\t          if (failed) {\n\t            return;\n\t          }\n\t          if (err) {\n\t            failed = true;\n\t            callback(err);\n\t            return;\n\t          }\n\t\n\t          finished++;\n\t          if (finished === list.length) {\n\t            callback();\n\t          } else if (executed < list.length) {\n\t            iterator(list[executed++], next);\n\t          }\n\t        }\n\t\n\t        while (executed < limit && executed < list.length) {\n\t          iterator(list[executed++], next);\n\t        }\n\t      };\n\t    }, {}],\n\t    7: [function (require, module, exports) {\n\t\n\t      'use strict';\n\t\n\t      module.exports = function (self) {\n\t        var resize = require('./resize_array');\n\t        var unsharp = require('./unsharp');\n\t\n\t        self.onmessage = function (ev) {\n\t          var options = ev.data;\n\t          options.dest = new Uint8Array(options.toWidth * options.toHeight * 4);\n\t\n\t          resize(options);\n\t\n\t          if (options.unsharpAmount) {\n\t            unsharp(options.dest, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n\t          }\n\t\n\t          self.postMessage({ output: options.dest }, [options.dest.buffer]);\n\t        };\n\t      };\n\t    }, { \"./resize_array\": 4, \"./unsharp\": 5 }],\n\t    8: [function (require, module, exports) {\n\t\n\t      'use strict';\n\t\n\t      var resize = require('./js/resize_array');\n\t      var unsharp = require('./js/unsharp');\n\t      var createRegions = require('./js/utils').createRegions;\n\t      var eachLimit = require('./js/utils').eachLimit;\n\t      var generateId = require('./js/generate_id');\n\t      var createCanvas = require('./js/create_canvas');\n\t\n\t      var SRC_TILE_SIZE = 1024;\n\t      var DEST_TILE_BORDER = 3;\n\t\n\t      function resize_js(from, to, options, callback) {\n\t        var toCtx = to.getContext('2d', { alpha: Boolean(options.alpha) });\n\t\n\t        var fromTile = createCanvas();\n\t\n\t        fromTile.width = Math.min(SRC_TILE_SIZE, from.width);\n\t        fromTile.height = Math.min(SRC_TILE_SIZE, from.height);\n\t\n\t        var fromTileCtx = fromTile.getContext('2d', { alpha: Boolean(options.alpha) });\n\t\n\t        fromTileCtx.globalCompositeOperation = 'copy';\n\t\n\t        var regions = createRegions({\n\t          width: from.naturalWidth || from.width,\n\t          height: from.naturalHeight || from.height,\n\t          srcTileSize: SRC_TILE_SIZE,\n\t          toWidth: to.width,\n\t          toHeight: to.height,\n\t          destTileBorder: Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * options.unsharpRadius | 0))\n\t        });\n\t\n\t        eachLimit(regions, 1, function (tile, next) {\n\t          fromTileCtx.drawImage(from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n\t\n\t          var fromImageData = fromTileCtx.getImageData(0, 0, tile.width, tile.height);\n\t          var toImageData = toCtx.createImageData(tile.toWidth, tile.toHeight);\n\t\n\t          var _opts = {\n\t            src: fromImageData.data,\n\t            dest: toImageData.data,\n\t            width: tile.width,\n\t            height: tile.height,\n\t            toWidth: tile.toWidth,\n\t            toHeight: tile.toHeight,\n\t            scaleX: tile.scaleX,\n\t            scaleY: tile.scaleY,\n\t            offsetX: tile.offsetX,\n\t            offsetY: tile.offsetY,\n\t            quality: options.quality,\n\t            alpha: options.alpha,\n\t            unsharpAmount: options.unsharpAmount,\n\t            unsharpRadius: options.unsharpRadius,\n\t            unsharpThreshold: options.unsharpThreshold\n\t          };\n\t\n\t          resize(_opts);\n\t\n\t          if (options.unsharpAmount) {\n\t            unsharp(_opts.dest, _opts.toWidth, _opts.toHeight, _opts.unsharpAmount, _opts.unsharpRadius, _opts.unsharpThreshold);\n\t          }\n\t\n\t          toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n\t          next();\n\t        }, callback);\n\t\n\t        return generateId();\n\t      }\n\t\n\t      module.exports = resize_js;\n\t      module.exports.terminate = function () {};\n\t    }, { \"./js/create_canvas\": 1, \"./js/generate_id\": 2, \"./js/resize_array\": 4, \"./js/unsharp\": 5, \"./js/utils\": 6 }],\n\t    9: [function (require, module, exports) {\n\t\n\t      'use strict';\n\t\n\t      var webworkify = require('webworkify');\n\t      var resizeWorker = require('./js/worker.js');\n\t      var createRegions = require('./js/utils').createRegions;\n\t      var eachLimit = require('./js/utils').eachLimit;\n\t      var generateId = require('./js/generate_id');\n\t      var createCanvas = require('./js/create_canvas');\n\t      var Pool = require('./js/pool');\n\t\n\t      var SRC_TILE_SIZE = 1024;\n\t      var DEST_TILE_BORDER = 3;\n\t      var NEED_SAFARI_FIX = false;\n\t      try {\n\t        NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') !== -1;\n\t      } catch (e) {}\n\t\n\t      var workersPool = new Pool(function () {\n\t        return {\n\t          value: webworkify(resizeWorker),\n\t          destroy: function destroy() {\n\t            this.value.terminate();\n\t\n\t            if (typeof window !== 'undefined') {\n\t              var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\t              if (url && url.revokeObjectURL && this.value.objectURL) {\n\t                url.revokeObjectURL(this.value.objectURL);\n\t              }\n\t            }\n\t          }\n\t        };\n\t      });\n\t\n\t      var running = {};\n\t\n\t      function resize_js_ww(from, to, options, callback) {\n\t        var toCtx = to.getContext('2d', { alpha: Boolean(options.alpha) });\n\t\n\t        var fromTile = createCanvas();\n\t\n\t        fromTile.width = Math.min(SRC_TILE_SIZE, from.naturalWidth || from.width);\n\t        fromTile.height = Math.min(SRC_TILE_SIZE, from.naturalHeight || from.height);\n\t\n\t        var fromTileCtx = fromTile.getContext('2d', { alpha: Boolean(options.alpha) });\n\t\n\t        fromTileCtx.globalCompositeOperation = 'copy';\n\t\n\t        var regions = createRegions({\n\t          width: from.naturalWidth || from.width,\n\t          height: from.naturalHeight || from.height,\n\t          srcTileSize: SRC_TILE_SIZE,\n\t          toWidth: to.width,\n\t          toHeight: to.height,\n\t          destTileBorder: Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * options.unsharpRadius | 0))\n\t        });\n\t\n\t        var concurrency = 1;\n\t        if (typeof navigator !== 'undefined') {\n\t          concurrency = navigator.hardwareConcurrency || 1;\n\t        }\n\t\n\t        var id = options._id || generateId();\n\t\n\t        running[id] = true;\n\t        eachLimit(regions, concurrency, function (tile, next) {\n\t          fromTileCtx.drawImage(from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n\t\n\t          var fromImageData = fromTileCtx.getImageData(0, 0, tile.width, tile.height);\n\t\n\t          var _opts = {\n\t            src: fromImageData.data,\n\t            width: tile.width,\n\t            height: tile.height,\n\t            toWidth: tile.toWidth,\n\t            toHeight: tile.toHeight,\n\t            scaleX: tile.scaleX,\n\t            scaleY: tile.scaleY,\n\t            offsetX: tile.offsetX,\n\t            offsetY: tile.offsetY,\n\t            quality: options.quality,\n\t            alpha: options.alpha,\n\t            unsharpAmount: options.unsharpAmount,\n\t            unsharpRadius: options.unsharpRadius,\n\t            unsharpThreshold: options.unsharpThreshold\n\t          };\n\t\n\t          var worker = workersPool.acquire();\n\t\n\t          worker.value.onmessage = function (ev) {\n\t            var i, l;\n\t            var imageDataTo, output, dest;\n\t\n\t            worker.release();\n\t\n\t            if (!running[id]) {\n\t              next(true);\n\t              return;\n\t            }\n\t            if (ev.data.err) {\n\t              next(ev.data.err);\n\t              return;\n\t            }\n\t\n\t            imageDataTo = toCtx.createImageData(tile.toWidth, tile.toHeight);\n\t            output = ev.data.output;\n\t            dest = imageDataTo.data;\n\t\n\t            if (dest.set) {\n\t              dest.set(output);\n\t            } else {\n\t              for (i = 0, l = output.length; i < l; i++) {\n\t                dest[i] = output[i];\n\t              }\n\t            }\n\t\n\t            if (NEED_SAFARI_FIX) {\n\t              toCtx.putImageData(imageDataTo, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n\t            } else {\n\t              toCtx.putImageData(imageDataTo, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n\t            }\n\t            next();\n\t          };\n\t\n\t          worker.value.postMessage(_opts, [_opts.src.buffer]);\n\t        }, function (err) {\n\t          if (running[id]) {\n\t            delete running[id];\n\t            callback(err);\n\t          }\n\t        });\n\t\n\t        return id;\n\t      }\n\t\n\t      function terminate(id) {\n\t        if (running[id]) {\n\t          delete running[id];\n\t        }\n\t      }\n\t\n\t      module.exports = resize_js_ww;\n\t      module.exports.terminate = terminate;\n\t    }, {\n\t      \"./js/create_canvas\": 1,\n\t      \"./js/generate_id\": 2,\n\t      \"./js/pool\": 3,\n\t      \"./js/utils\": 6,\n\t      \"./js/worker.js\": 7,\n\t      \"webworkify\": 13\n\t    }],\n\t    10: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var unsharp = require('./js/unsharp');\n\t      var generateId = require('./js/generate_id');\n\t\n\t      var shadersContent = {};\n\t\n\t      shadersContent['#vsh-basic'] = \"precision highp float;\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\n\\nuniform vec2 u_resolution;\\n\\nvarying vec2 v_texCoord;\\n\\nvoid main() {\\n   vec2 clipSpace = a_position / u_resolution * 2.0 - 1.0;\\n\\n   gl_Position = vec4(clipSpace, 0, 1);\\n   v_texCoord = a_texCoord;\\n}\\n\";\n\t      shadersContent['#fsh-lanczos1d-optimized-tpl'] = \"precision highp float;\\n\\nvarying vec2 v_texCoord;\\n\\nuniform sampler2D u_image;\\n\\n#define addPoint(offset, kv, total)   {vec2 pos = v_texCoord + offset; gl_FragColor += texture2D(u_image, pos) * kv; total += kv; }\\n\\nvoid main()\\n{\\n__CODE__\\n}\\n\";\n\t\n\t      var FILTER_INFO = [{\n\t        win: 0.5,\n\t        filter: function filter(x) {\n\t          return x >= -0.5 && x < 0.5 ? 1.0 : 0.0;\n\t        }\n\t      }, {\n\t        win: 1.0,\n\t        filter: function filter(x) {\n\t          if (x <= -1.0 || x >= 1.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n\t        }\n\t      }, {\n\t        win: 2.0,\n\t        filter: function filter(x) {\n\t          if (x <= -2.0 || x >= 2.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n\t        }\n\t      }, {\n\t        win: 3.0,\n\t        filter: function filter(x) {\n\t          if (x <= -3.0 || x >= 3.0) {\n\t            return 0.0;\n\t          }\n\t          if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n\t            return 1.0;\n\t          }\n\t          var xpi = x * Math.PI;\n\t          return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n\t        }\n\t      }];\n\t\n\t      function error(msg) {\n\t        try {\n\t          (window.console.error || window.console.log).call(window.console, msg);\n\t        } catch (__) {}\n\t      }\n\t\n\t      function checkGlError(gl) {\n\t        var e = gl.getError();\n\t        if (e !== gl.NO_ERROR) {\n\t          throw new Error('gl error ' + e);\n\t        }\n\t      }\n\t\n\t      function createGl(canvas) {\n\t        return canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\t      }\n\t\n\t      function createShader(gl, type, src) {\n\t        var shader = gl.createShader(type);\n\t\n\t        gl.shaderSource(shader, src);\n\t        gl.compileShader(shader);\n\t\n\t        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t          error('Shader compile error: ' + gl.getShaderInfoLog(shader) + '. Source: `' + src + '`');\n\t          gl.deleteShader(shader);\n\t          return null;\n\t        }\n\t\n\t        return shader;\n\t      }\n\t\n\t      function createProgram(gl, vertexShader, fragmentShader) {\n\t        var program = gl.createProgram();\n\t\n\t        gl.attachShader(program, vertexShader);\n\t        gl.attachShader(program, fragmentShader);\n\t\n\t        gl.linkProgram(program);\n\t\n\t        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n\t          error('Program linking error: ' + gl.getProgramInfoLog(program));\n\t          gl.deleteProgram(program);\n\t        }\n\t\n\t        checkGlError(gl);\n\t        return program;\n\t      }\n\t\n\t      function setAttributeValues(gl, program, name, values, options) {\n\t        var a = gl.getAttribLocation(program, name);\n\t\n\t        gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n\t        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(values), gl.STATIC_DRAW);\n\t        gl.enableVertexAttribArray(a);\n\t        gl.vertexAttribPointer(a, options.elementSize, gl.FLOAT, false, 0, 0);\n\t        checkGlError(gl);\n\t      }\n\t\n\t      function setUniform1i(gl, program, name, i0) {\n\t        var u = gl.getUniformLocation(program, name);\n\t        gl.uniform1i(u, i0);\n\t      }\n\t\n\t      function setUniform2f(gl, program, name, f0, f1) {\n\t        var u = gl.getUniformLocation(program, name);\n\t        gl.uniform2f(u, f0, f1);\n\t      }\n\t\n\t      function loadTexture(gl, texUnit, data) {\n\t        var tex = gl.createTexture();\n\t        gl.activeTexture(gl.TEXTURE0 + texUnit);\n\t        gl.bindTexture(gl.TEXTURE_2D, tex);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n\t        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\t        checkGlError(gl);\n\t        return tex;\n\t      }\n\t\n\t      function createTextureSize(gl, texUnit, width, height) {\n\t        var tex = gl.createTexture();\n\t        gl.activeTexture(gl.TEXTURE0 + texUnit);\n\t        gl.bindTexture(gl.TEXTURE_2D, tex);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\t        checkGlError(gl);\n\t        return tex;\n\t      }\n\t\n\t      function setupTextureFBO(gl, texUnit, width, height) {\n\t        var texture = createTextureSize(gl, texUnit, width, height);\n\t\n\t        var oldFbo = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\t\n\t        var fbo = gl.createFramebuffer();\n\t        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n\t\n\t        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\t\n\t        checkGlError(gl);\n\t\n\t        return {\n\t          fbo: fbo,\n\t          texture: texture,\n\t          oldFbo: oldFbo\n\t        };\n\t      }\n\t\n\t      function vec2Rectangle(x, y, w, h) {\n\t        var x1 = x;\n\t        var x2 = x + w;\n\t        var y1 = y;\n\t        var y2 = y + h;\n\t        return [x1, y1, x2, y1, x1, y2, x1, y2, x2, y1, x2, y2];\n\t      }\n\t\n\t      function generateFragmentShader(options) {\n\t        var template = shadersContent['#fsh-lanczos1d-optimized-tpl'];\n\t\n\t        var direction = options.direction;\n\t\n\t        var scaleW = options.texW / options.destW,\n\t            scaleH = options.texH / options.destH,\n\t            scale = direction === 'horizontal' ? scaleW : scaleH;\n\t\n\t        var quality = 3;\n\t\n\t        var filterFunction = FILTER_INFO[quality].filter;\n\t\n\t        var winSize = FILTER_INFO[quality].win;\n\t\n\t        var isHorizontal = direction === 'horizontal';\n\t\n\t        var pixelSizeX = 1.0 / options.texW,\n\t            pixelSizeY = 1.0 / options.texH,\n\t            pixelSize = isHorizontal ? pixelSizeX : pixelSizeY;\n\t\n\t        var count = Math.ceil(winSize * scale) * 2.0;\n\t\n\t        var code = 'float total = 0.0;\\ngl_FragColor = vec4(0.0);\\n';\n\t\n\t        function float(v) {\n\t          return v.toFixed(20);\n\t        }\n\t\n\t        for (var i = 0; i < count + 1; i++) {\n\t          var offset = i - count / 2.0;\n\t          var x = offset / scale;\n\t          var kv = filterFunction(x);\n\t\n\t          var p = pixelSize * offset;\n\t          var px = isHorizontal ? p : 0.0;\n\t          var py = isHorizontal ? 0.0 : p;\n\t\n\t          code += 'addPoint(vec2(' + float(px) + ', ' + float(py) + '), ' + float(kv) + ', total);\\n';\n\t        }\n\t\n\t        code += 'gl_FragColor /= vec4(total);';\n\t\n\t        var fragmentShader = template.replace('__CODE__', code);\n\t\n\t        return fragmentShader;\n\t      }\n\t\n\t      function createProgramOptimized(gl, options) {\n\t        var vertexShader = createShader(gl, gl.VERTEX_SHADER, shadersContent['#vsh-basic']);\n\t        var fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, generateFragmentShader(options));\n\t\n\t        return createProgram(gl, vertexShader, fragmentShader);\n\t      }\n\t\n\t      function convolveOptimized(gl, texUnit0, texW, texH, texUnit, direction, destW, destH, flipY) {\n\t\n\t        var programOptions = {\n\t          direction: direction,\n\t          texW: texW,\n\t          texH: texH,\n\t          destW: destW,\n\t          destH: destH\n\t        };\n\t\n\t        var program = createProgramOptimized(gl, programOptions);\n\t\n\t        gl.useProgram(program);\n\t\n\t        setUniform1i(gl, program, 'u_image', texUnit0);\n\t\n\t        setUniform2f(gl, program, 'u_resolution', destW, destH);\n\t\n\t        setAttributeValues(gl, program, 'a_texCoord', [0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1], { elementSize: 2 });\n\t        setAttributeValues(gl, program, 'a_position', !flipY ? vec2Rectangle(0, 0, destW, destH) : vec2Rectangle(0, destH, destW, -destH), { elementSize: 2 });\n\t\n\t        gl.viewport(0, 0, destW, destH);\n\t\n\t        var fboObject = setupTextureFBO(gl, texUnit, destW, destH);\n\t\n\t        gl.viewport(0, 0, destW, destH);\n\t        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\t        gl.bindFramebuffer(gl.FRAMEBUFFER, fboObject.oldFbo);\n\t\n\t        checkGlError(gl);\n\t\n\t        return fboObject;\n\t      }\n\t\n\t      function webglProcessResizeOptimized(from, gl, options) {\n\t        var srcW = from.naturalWidth || from.width,\n\t            srcH = from.naturalHeight || from.height,\n\t            dstW = gl.canvas.width,\n\t            dstH = gl.canvas.height;\n\t\n\t        var texUnit0 = 0;\n\t        var texUnit1 = 1;\n\t        var texUnit2 = 2;\n\t\n\t        loadTexture(gl, texUnit0, from);\n\t\n\t        convolveOptimized(gl, texUnit0, srcW, srcH, texUnit1, 'horizontal', dstW, srcH, false);\n\t\n\t        var finalFboObject = convolveOptimized(gl, texUnit1, dstW, srcH, texUnit2, 'vertical', dstW, dstH, true);\n\t\n\t        gl.flush();\n\t\n\t        var fb = gl.createFramebuffer();\n\t\n\t        gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n\t        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, finalFboObject.texture, 0);\n\t\n\t        var fb_status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\t\n\t        if (fb_status !== gl.FRAMEBUFFER_COMPLETE) {\n\t          throw new Error('Bad framebuffer status: ' + fb_status);\n\t        }\n\t\n\t        if (!options.alpha) {\n\t          gl.clearColor(1, 1, 1, 1);\n\t          gl.colorMask(false, false, false, true);\n\t          gl.clear(gl.COLOR_BUFFER_BIT);\n\t        }\n\t\n\t        var pixels = new Uint8Array(dstW * dstH * 4);\n\t\n\t        gl.readPixels(0, 0, dstW, dstH, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n\t\n\t        var unsharpAmount = typeof options.unsharpAmount === 'undefined' ? 0 : options.unsharpAmount | 0;\n\t        var unsharpRadius = typeof options.unsharpRadius === 'undefined' ? 0 : options.unsharpRadius;\n\t        var unsharpThreshold = typeof options.unsharpThreshold === 'undefined' ? 0 : options.unsharpThreshold | 0;\n\t\n\t        if (unsharpAmount) {\n\t          unsharp(pixels, dstW, dstH, unsharpAmount, unsharpRadius, unsharpThreshold);\n\t        }\n\t\n\t        return pixels;\n\t      }\n\t\n\t      module.exports = function (from, to, options, callback) {\n\t        var gl, canvas;\n\t\n\t        try {\n\t\n\t          canvas = document.createElement('canvas');\n\t          canvas.id = 'pica-webgl-temporarry-canvas';\n\t          canvas.height = to.height;\n\t          canvas.width = to.width;\n\t          document.body.appendChild(canvas);\n\t\n\t          gl = createGl(canvas);\n\t\n\t          var data = webglProcessResizeOptimized(from, gl, options);\n\t\n\t          gl.finish();\n\t          document.body.removeChild(canvas);\n\t\n\t          var ctxTo = to.getContext('2d');\n\t          var imageDataTo = ctxTo.createImageData(to.width, to.height);\n\t\n\t          imageDataTo.data.set(data);\n\t          ctxTo.putImageData(imageDataTo, 0, 0);\n\t\n\t          callback(null, data);\n\t        } catch (e) {\n\t          error(e);\n\t          gl.finish();\n\t          document.body.removeChild(canvas);\n\t          callback(e);\n\t        }\n\t\n\t        return generateId();\n\t      };\n\t\n\t      module.exports.terminate = function () {};\n\t    }, { \"./js/generate_id\": 2, \"./js/unsharp\": 5 }],\n\t    11: [function (require, module, exports) {\n\t\n\t      var a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\t\n\t      function gaussCoef(sigma) {\n\t        if (sigma < 0.5) {\n\t          sigma = 0.5;\n\t        }\n\t\n\t        var a = Math.exp(0.726 * 0.726) / sigma,\n\t            g1 = Math.exp(-a),\n\t            g2 = Math.exp(-2 * a),\n\t            k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\t\n\t        a0 = k;\n\t        a1 = k * (a - 1) * g1;\n\t        a2 = k * (a + 1) * g1;\n\t        a3 = -k * g2;\n\t        b1 = 2 * g1;\n\t        b2 = -g2;\n\t        left_corner = (a0 + a1) / (1 - b1 - b2);\n\t        right_corner = (a2 + a3) / (1 - b1 - b2);\n\t\n\t        return new Float32Array([a0, a1, a2, a3, b1, b2, left_corner, right_corner]);\n\t      }\n\t\n\t      function convolveMono16(src, out, line, coeff, width, height) {\n\t\n\t        var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n\t        var src_index, out_index, line_index;\n\t        var i, j;\n\t        var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\t\n\t        for (i = 0; i < height; i++) {\n\t          src_index = i * width;\n\t          out_index = i;\n\t          line_index = 0;\n\t\n\t          prev_src = src[src_index];\n\t          prev_prev_out = prev_src * coeff[6];\n\t          prev_out = prev_prev_out;\n\t\n\t          coeff_a0 = coeff[0];\n\t          coeff_a1 = coeff[1];\n\t          coeff_b1 = coeff[4];\n\t          coeff_b2 = coeff[5];\n\t\n\t          for (j = 0; j < width; j++) {\n\t            curr_src = src[src_index];\n\t\n\t            curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;\n\t\n\t            prev_prev_out = prev_out;\n\t            prev_out = curr_out;\n\t            prev_src = curr_src;\n\t\n\t            line[line_index] = prev_out;\n\t            line_index++;\n\t            src_index++;\n\t          }\n\t\n\t          src_index--;\n\t          line_index--;\n\t          out_index += height * (width - 1);\n\t\n\t          prev_src = src[src_index];\n\t          prev_prev_out = prev_src * coeff[7];\n\t          prev_out = prev_prev_out;\n\t          curr_src = prev_src;\n\t\n\t          coeff_a0 = coeff[2];\n\t          coeff_a1 = coeff[3];\n\t\n\t          for (j = width - 1; j >= 0; j--) {\n\t            curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;\n\t\n\t            prev_prev_out = prev_out;\n\t            prev_out = curr_out;\n\t\n\t            prev_src = curr_src;\n\t            curr_src = src[src_index];\n\t\n\t            out[out_index] = line[line_index] + prev_out;\n\t\n\t            src_index--;\n\t            line_index--;\n\t            out_index -= height;\n\t          }\n\t        }\n\t      }\n\t\n\t      function blurMono16(src, width, height, radius) {\n\t        if (!radius) {\n\t          return;\n\t        }\n\t\n\t        var out = new Uint16Array(src.length),\n\t            tmp_line = new Float32Array(Math.max(width, height));\n\t\n\t        var coeff = gaussCoef(radius);\n\t\n\t        convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n\t        convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n\t      }\n\t\n\t      module.exports = blurMono16;\n\t    }, {}],\n\t    12: [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var hasOwnProperty = Object.prototype.hasOwnProperty;\n\t      var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\t      function toObject(val) {\n\t        if (val === null || val === undefined) {\n\t          throw new TypeError('Object.assign cannot be called with null or undefined');\n\t        }\n\t\n\t        return Object(val);\n\t      }\n\t\n\t      function shouldUseNative() {\n\t        try {\n\t          if (!_assign2.default) {\n\t            return false;\n\t          }\n\t\n\t          var test1 = new String('abc');\n\t          test1[5] = 'de';\n\t          if ((0, _getOwnPropertyNames2.default)(test1)[0] === '5') {\n\t            return false;\n\t          }\n\t\n\t          var test2 = {};\n\t          for (var i = 0; i < 10; i++) {\n\t            test2['_' + String.fromCharCode(i)] = i;\n\t          }\n\t          var order2 = (0, _getOwnPropertyNames2.default)(test2).map(function (n) {\n\t            return test2[n];\n\t          });\n\t          if (order2.join('') !== '0123456789') {\n\t            return false;\n\t          }\n\t\n\t          var test3 = {};\n\t          'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t            test3[letter] = letter;\n\t          });\n\t          if ((0, _keys2.default)((0, _assign2.default)({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n\t            return false;\n\t          }\n\t\n\t          return true;\n\t        } catch (e) {\n\t          return false;\n\t        }\n\t      }\n\t\n\t      module.exports = shouldUseNative() ? _assign2.default : function (target, source) {\n\t        var from;\n\t        var to = toObject(target);\n\t        var symbols;\n\t\n\t        for (var s = 1; s < arguments.length; s++) {\n\t          from = Object(arguments[s]);\n\t\n\t          for (var key in from) {\n\t            if (hasOwnProperty.call(from, key)) {\n\t              to[key] = from[key];\n\t            }\n\t          }\n\t\n\t          if (_getOwnPropertySymbols2.default) {\n\t            symbols = (0, _getOwnPropertySymbols2.default)(from);\n\t            for (var i = 0; i < symbols.length; i++) {\n\t              if (propIsEnumerable.call(from, symbols[i])) {\n\t                to[symbols[i]] = from[symbols[i]];\n\t              }\n\t            }\n\t          }\n\t        }\n\t\n\t        return to;\n\t      };\n\t    }, {}],\n\t    13: [function (require, module, exports) {\n\t      var bundleFn = arguments[3];\n\t      var sources = arguments[4];\n\t      var cache = arguments[5];\n\t\n\t      var stringify = _stringify2.default;\n\t\n\t      module.exports = function (fn, options) {\n\t        var wkey;\n\t        var cacheKeys = (0, _keys2.default)(cache);\n\t\n\t        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n\t          var key = cacheKeys[i];\n\t          var exp = cache[key].exports;\n\t\n\t          if (exp === fn || exp && exp.default === fn) {\n\t            wkey = key;\n\t            break;\n\t          }\n\t        }\n\t\n\t        if (!wkey) {\n\t          wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\t          var wcache = {};\n\t          for (var i = 0, l = cacheKeys.length; i < l; i++) {\n\t            var key = cacheKeys[i];\n\t            wcache[key] = key;\n\t          }\n\t          sources[wkey] = [Function(['require', 'module', 'exports'], '(' + fn + ')(self)'), wcache];\n\t        }\n\t        var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\t\n\t        var scache = {};\n\t        scache[wkey] = wkey;\n\t        sources[skey] = [Function(['require'], 'var f = require(' + stringify(wkey) + ');' + '(f.default ? f.default : f)(self);'), scache];\n\t\n\t        var workerSources = {};\n\t        resolveSources(skey);\n\t\n\t        function resolveSources(key) {\n\t          workerSources[key] = true;\n\t\n\t          for (var depPath in sources[key][1]) {\n\t            var depKey = sources[key][1][depPath];\n\t            if (!workerSources[depKey]) {\n\t              resolveSources(depKey);\n\t            }\n\t          }\n\t        }\n\t\n\t        var src = '(' + bundleFn + ')({' + (0, _keys2.default)(workerSources).map(function (key) {\n\t          return stringify(key) + ':[' + sources[key][0] + ',' + stringify(sources[key][1]) + ']';\n\t        }).join(',') + '},{},[' + stringify(skey) + '])';\n\t\n\t        var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\t\n\t        var blob = new Blob([src], { type: 'text/javascript' });\n\t        if (options && options.bare) {\n\t          return blob;\n\t        }\n\t        var workerUrl = URL.createObjectURL(blob);\n\t        var worker = new Worker(workerUrl);\n\t        worker.objectURL = workerUrl;\n\t        return worker;\n\t      };\n\t    }, {}],\n\t    \"/\": [function (require, module, exports) {\n\t      'use strict';\n\t\n\t      var WORKER = typeof window !== 'undefined' && 'Worker' in window;\n\t      if (WORKER) {\n\t        try {\n\t          var wkr = require('webworkify')(function () {});\n\t          wkr.terminate();\n\t        } catch (__) {\n\t          WORKER = false;\n\t        }\n\t      }\n\t\n\t      var WEBGL = false,\n\t          __cvs;\n\t      try {\n\t        if (typeof document !== 'undefined' && typeof window !== 'undefined' && window.WebGLRenderingContext) {\n\t\n\t          __cvs = document.createElement('canvas');\n\t\n\t          if (__cvs.getContext('webgl') || __cvs.getContext('experimental-webgl')) {\n\t            WEBGL = true;\n\t          }\n\t        }\n\t      } catch (__) {} finally {\n\t        __cvs = null;\n\t      }\n\t\n\t      var resize_js = require('./lib/resize_js');\n\t      var resize_js_ww = require('./lib/resize_js_ww');\n\t      var resize_webgl = require('./lib/resize_webgl');\n\t      var resize_array = require('./lib/js/resize_array');\n\t      var unsharp = require('./lib/js/unsharp');\n\t      var assign = require('object-assign');\n\t\n\t      function _class(obj) {\n\t        return Object.prototype.toString.call(obj);\n\t      }\n\t\n\t      function isFunction(obj) {\n\t        return _class(obj) === '[object Function]';\n\t      }\n\t\n\t      function resizeCanvas(from, to, options, callback) {\n\t        if (isFunction(options)) {\n\t          callback = options;\n\t          options = {};\n\t        }\n\t\n\t        if (!isNaN(options)) {\n\t          options = { quality: options, alpha: false };\n\t        }\n\t\n\t        if (!WEBGL) {\n\t          exports.WEBGL = false;\n\t        }\n\t\n\t        if (WEBGL && exports.WEBGL) {\n\t          exports.debug('Resize canvas with WebGL');\n\t\n\t          var id = resize_webgl(from, to, options, function (err) {\n\t            if (err) {\n\t              exports.debug('WebGL resize failed, do fallback and cancel next attempts');\n\t              exports.debug(err);\n\t\n\t              WEBGL = false;\n\t              resizeCanvas(from, to, assign({}, options, { _id: id }), callback);\n\t            } else {\n\t              callback();\n\t            }\n\t          });\n\t          return id;\n\t        }\n\t\n\t        if (!WORKER) {\n\t          exports.WW = false;\n\t        }\n\t\n\t        if (WORKER && exports.WW) {\n\t          exports.debug('Resize buffer in WebWorker');\n\t\n\t          return resize_js_ww(from, to, options, callback);\n\t        }\n\t\n\t        exports.debug('Resize buffer sync (freeze event loop)');\n\t\n\t        return resize_js(from, to, options, callback);\n\t      }\n\t\n\t      function resizeBuffer(options, callback) {\n\t        var _opts = {\n\t          src: options.src,\n\t          dest: options.dest,\n\t          width: options.width | 0,\n\t          height: options.height | 0,\n\t          toWidth: options.toWidth | 0,\n\t          toHeight: options.toHeight | 0,\n\t          quality: options.quality,\n\t          alpha: options.alpha,\n\t          unsharpAmount: options.unsharpAmount,\n\t          unsharpRadius: options.unsharpRadius,\n\t          unsharpThreshold: options.unsharpThreshold\n\t        };\n\t\n\t        _opts.dest = resize_array(_opts);\n\t\n\t        if (_opts.unsharpAmount) {\n\t          unsharp(_opts.dest, _opts.toWidth, _opts.toHeight, _opts.unsharpAmount, _opts.unsharpRadius, _opts.unsharpThreshold);\n\t        }\n\t\n\t        callback(null, _opts.dest);\n\t      }\n\t\n\t      function terminate(id) {\n\t        resize_js.terminate(id);\n\t        resize_js_ww.terminate(id);\n\t        resize_webgl.terminate(id);\n\t      }\n\t\n\t      exports.resizeCanvas = resizeCanvas;\n\t      exports.resizeBuffer = resizeBuffer;\n\t      exports.terminate = terminate;\n\t      exports.WW = WORKER;\n\t      exports.WEBGL = false;\n\t      exports.debug = function () {};\n\t    }, {\n\t      \"./lib/js/resize_array\": 4,\n\t      \"./lib/js/unsharp\": 5,\n\t      \"./lib/resize_js\": 8,\n\t      \"./lib/resize_js_ww\": 9,\n\t      \"./lib/resize_webgl\": 10,\n\t      \"object-assign\": 12,\n\t      \"webworkify\": 13\n\t    }]\n\t  }, {}, [])(\"/\");\n\t});\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(19);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _getOwnPropertyNames = __webpack_require__(33);\n\t\n\tvar _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);\n\t\n\tvar _es6Promise = __webpack_require__(47);\n\t\n\tvar _wardrobeStoreFs = __webpack_require__(18);\n\t\n\tvar _wardrobeStoreFs2 = _interopRequireDefault(_wardrobeStoreFs);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar store = {};\n\tvar items = {\n\t  wardrobe: [],\n\t  accessories: []\n\t};\n\t\n\tstore.loadWardrobe = function () {\n\t  return new _es6Promise.Promise(function (resolve, reject) {\n\t    items.wardrobe = [];\n\t    items.accessories = [];\n\t    var rawData = _wardrobeStoreFs2.default.getAllItems();\n\t\n\t    rawData.forEach(function (item) {\n\t      switch (item.type.value) {\n\t        case 'bag':\n\t        case 'scarf':\n\t        case 'waistcoat':\n\t        case 'hat':\n\t          if (!items.accessories.hasOwnProperty(item.type.value)) items.accessories[item.type.value] = [];\n\t          items.accessories[item.type.value].push(item);\n\t          break;\n\t        default:\n\t          if (!items.wardrobe.hasOwnProperty(item.type.value)) items.wardrobe[item.type.value] = [];\n\t          items.wardrobe[item.type.value].push(item);\n\t          break;\n\t      }\n\t    });\n\t    console.log(items);\n\t    resolve(items);\n\t  });\n\t};\n\t\n\tstore.generateLook = function (wardrobe, accessories, weather) {\n\t  var filterWardrobe = function filterWardrobe(wardrobeObj) {\n\t    var filtered = {};\n\t    (0, _getOwnPropertyNames2.default)(wardrobeObj).forEach(function (group) {\n\t      if (group !== '__ob__') {\n\t        filtered[group] = [];\n\t        wardrobeObj[group].forEach(function (item) {\n\t          if (weather === 'any') {\n\t            filtered[group].push(item);\n\t          } else {\n\t            for (var i = 0; i < item.season.length; ++i) {\n\t              if (item.season[i].value === weather) {\n\t                filtered[group].push(item);\n\t                break;\n\t              }\n\t            }\n\t          }\n\t        });\n\t        if (filtered[group].length < 1) {\n\t          delete filtered[group];\n\t        }\n\t      }\n\t    });\n\t    console.log(filtered);\n\t    return filtered;\n\t  };\n\t\n\t  var decideOppGroups = function decideOppGroups(grp1, grp2) {\n\t    var decision = [grp1, grp2];\n\t    return decision[Math.round(Math.random())];\n\t  };\n\t  var look = {\n\t    main: {},\n\t    accessories: {}\n\t  };\n\t  var filteredWardrobe = filterWardrobe(wardrobe);\n\t  var filteredAccessories = filterWardrobe(accessories);\n\t  var excludeGroup = decideOppGroups('bottom', 'dress');\n\t  (0, _getOwnPropertyNames2.default)(filteredWardrobe).forEach(function (val) {\n\t    if (val !== '__ob__' && val !== excludeGroup) {\n\t      var index = Math.round(Math.random() * (filteredWardrobe[val].length - 1));\n\t      look.main[val] = filteredWardrobe[val][index];\n\t    }\n\t  });\n\t  (0, _getOwnPropertyNames2.default)(filteredAccessories).forEach(function (val) {\n\t    var decide = Math.random() - 0.5;\n\t    if (decide > 0 && val !== '__ob__') {\n\t      var index = Math.round(Math.random() * (filteredAccessories[val].length - 1));\n\t      look.accessories[val] = filteredAccessories[val][index];\n\t    }\n\t  });\n\t  return {\n\t    main: (0, _assign2.default)({}, look.main),\n\t    accessories: (0, _assign2.default)({}, look.accessories)\n\t  };\n\t};\n\t\n\texports.default = store;\n\n/***/ },\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _look = __webpack_require__(48);\n\t\n\tvar _look2 = _interopRequireDefault(_look);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    look: _look2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t\n\t  name: 'about',\n\t\n\t  components: {},\n\t\n\t  data: function data() {\n\t    return {};\n\t  },\n\t\n\t  methods: {}\n\t\n\t};\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(11);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _keys = __webpack_require__(34);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _wardrobeStore = __webpack_require__(51);\n\t\n\tvar _wardrobeStore2 = _interopRequireDefault(_wardrobeStore);\n\t\n\tvar _looksStore = __webpack_require__(49);\n\t\n\tvar _looksStore2 = _interopRequireDefault(_looksStore);\n\t\n\tvar _wardrobeStoreFs = __webpack_require__(18);\n\t\n\tvar _wardrobeStoreFs2 = _interopRequireDefault(_wardrobeStoreFs);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tconsole.log(_wardrobeStoreFs2.default);\n\texports.default = {\n\t\n\t  name: 'look',\n\t\n\t  data: function data() {\n\t    return {\n\t      imgWidth: 150,\n\t      msg: 'Гардероб!',\n\t      wardrobe: 'empty',\n\t      weather: 'any',\n\t      accessories: 'empty',\n\t      look: {\n\t        main: 'empty',\n\t        accessories: 'empty'\n\t      },\n\t      storedLooks: []\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    canCreateLook: function canCreateLook() {\n\t      return (0, _keys2.default)(this.wardrobe).length + (0, _keys2.default)(this.accessories).length > 1;\n\t    }\n\t  },\n\t\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    this.storedLooks = _looksStore2.default.get();\n\t    _wardrobeStore2.default.loadWardrobe().then(function (result) {\n\t      _this.wardrobe = result.wardrobe;\n\t      _this.accessories = result.accessories;\n\t    });\n\t  },\n\t\n\t  methods: {\n\t    saveLook: function saveLook() {\n\t      _looksStore2.default.add(this.look);\n\t    },\n\t\n\t    deleteLook: function deleteLook(idx) {\n\t      _looksStore2.default.delete(idx);\n\t    },\n\t\n\t    loadLook: function loadLook(idx) {\n\t      this.look = JSON.parse((0, _stringify2.default)(this['storedLooks'][idx].look));\n\t    },\n\t\n\t    loadWardrobe: function loadWardrobe() {\n\t      var _this2 = this;\n\t\n\t      _wardrobeStore2.default.loadWardrobe().then(function (result) {\n\t        _this2.wardrobe = result.wardrobe;\n\t        _this2.accessories = result.accessories;\n\t      });\n\t    },\n\t\n\t    generateLook: function generateLook() {\n\t      this.look = _wardrobeStore2.default.generateLook(this.wardrobe, this.accessories, this.weather);\n\t    },\n\t\n\t    calcItems: function calcItems(input) {\n\t      var total = 0;\n\t      if (input instanceof Object) {\n\t        (0, _keys2.default)(input).forEach(function (val) {\n\t          total = total + (input[val].length || 0);\n\t        });\n\t      }\n\t      return total;\n\t    }\n\t  }\n\t\n\t};\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _itemUpload = __webpack_require__(104);\n\t\n\tvar _itemUpload2 = _interopRequireDefault(_itemUpload);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\n\t  name: 'wardrobe',\n\t\n\t  components: {\n\t    'item-upload': _itemUpload2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {};\n\t  },\n\t\n\t  mounted: function mounted() {},\n\t\n\t  methods: {},\n\t\n\t  created: function created() {}\n\t\n\t};\n\n/***/ },\n\n/***/ 56:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _wardrobeStoreFs = __webpack_require__(18);\n\t\n\tvar _wardrobeStoreFs2 = _interopRequireDefault(_wardrobeStoreFs);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\n\t  name: 'itemUpload',\n\t\n\t  created: function created() {\n\t    _wardrobeStoreFs2.default.init();\n\t    this.wardrobe = _wardrobeStoreFs2.default.getAllItems();\n\t  },\n\t\n\t  methods: {\n\t    fileOnChange: function fileOnChange(el) {\n\t      this.imageFile = el.target.files[0];\n\t      this.previewSRC = window.URL.createObjectURL(this.imageFile);\n\t      console.dir(this.imageFile);\n\t    },\n\t    submit: function submit() {\n\t      var _this = this;\n\t\n\t      _wardrobeStoreFs2.default.add(this.imageFile, this.seasonsCurrent, this.itemTypeCurrent).then(function (url) {\n\t        _this.upload.status = 'success';\n\t        _this.upload.message = 'Получилось!';\n\t        console.log(url);\n\t        _this.wardrobe = _wardrobeStoreFs2.default.getAllItems();\n\t      }).catch(function (error) {\n\t        _this.upload.status = 'fail';\n\t        _this.upload.message = error.message;\n\t        console.dir(error);\n\t      });\n\t    },\n\t    remove: function remove(uid) {\n\t      var _this2 = this;\n\t\n\t      _wardrobeStoreFs2.default.delete(uid).then(function (updated) {\n\t        _this2.wardrobe = updated;\n\t      }).catch(function (error) {\n\t        _this2.upload.status = 'fail';\n\t        _this2.upload.message = error.message;\n\t        console.dir(error);\n\t      });\n\t    },\n\t    containsTypeVal: function containsTypeVal(list, type) {\n\t      return list.filter(function (item) {\n\t        if (item.type.value === type.value) return item;\n\t      });\n\t    },\n\t    typesPresentInWardrobe: function typesPresentInWardrobe() {\n\t      var _this3 = this;\n\t\n\t      return this.itemTypes.filter(function (type) {\n\t        for (var i = 0; i < _this3.wardrobe.length; ++i) {\n\t          if (_this3.wardrobe[i].type.value === type.value) {\n\t            return type;\n\t          }\n\t        }\n\t      });\n\t    }\n\t  },\n\t\n\t  computed: {\n\t    validation: function validation() {\n\t      return {\n\t        upload: !(this.imageFile !== '' && this.itemTypeCurrent.value !== '' && this.seasonsCurrent.length > 0)\n\t      };\n\t    }\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t\n\t      itemTypes: [{ name: 'Тип одежды...', value: '' }, { name: 'Сумка', value: 'bag' }, { name: 'На голову', value: 'hat' }, { name: 'Шарфик', value: 'scarf' }, { name: 'Жилетка', value: 'waistcoat' }, { name: 'Платье', value: 'dress' }, { name: 'Носки', value: 'socks' }, { name: 'Обувь', value: 'shoes' }, { name: 'Верхняя одежда', value: 'top' }, { name: 'Штаны/юбка', value: 'bottom' }, { name: 'Плащь', value: 'coat' }, { name: 'Свитер', value: 'sweater' }],\n\t\n\t      itemTypeCurrent: { name: 'Тип одежды...', value: '' },\n\t\n\t      seasons: [{ name: 'лето', value: 'summer' }, { name: 'зима', value: 'winter' }, { name: 'межсезонье', value: 'inter_season' }],\n\t\n\t      seasonsCurrent: [{ name: 'лето', value: 'summer' }, { name: 'зима', value: 'winter' }, { name: 'межсезонье', value: 'inter_season' }],\n\t\n\t      imageFile: '',\n\t      previewSRC: '',\n\t\n\t      upload: {\n\t        status: '',\n\t        message: ''\n\t      },\n\t\n\t      wardrobe: []\n\t\n\t    };\n\t  }\n\t\n\t};\n\n/***/ },\n\n/***/ 95:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 96:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 97:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 98:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 99:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 101:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(95)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(52)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(105)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 102:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(96)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(53)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(106)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-2\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 103:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(97)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(55)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(107)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-3\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 104:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(99)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(56)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(109)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-5\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 105:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_h('nav', {\n\t    staticClass: \"navbar navbar-dark bg-inverse\"\n\t  }, [_h('div', {\n\t    staticClass: \"nav navbar-nav\"\n\t  }, [_h('router-link', {\n\t    staticClass: \"nav-item nav-link\",\n\t    attrs: {\n\t      \"to\": \"/about\"\n\t    }\n\t  }, [\"О приложении\"]), \" \", _h('router-link', {\n\t    staticClass: \"nav-item nav-link\",\n\t    attrs: {\n\t      \"to\": \"/look\"\n\t    }\n\t  }, [\"Образ\"]), \" \", _h('router-link', {\n\t    staticClass: \"nav-item nav-link\",\n\t    attrs: {\n\t      \"to\": \"/wardrobe\"\n\t    }\n\t  }, [\"Гардероб\"])])]), \" \", _h('router-view'), \" \", _m(0), \" \", _m(1)])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('hr')\n\t}},function (){with(this) {\n\t  return _h('p', {\n\t    staticClass: \"text-xs-small\"\n\t  }, [_h('small', [\"Ⓒ Wardrobe Inc. 2016\"])])\n\t}}]}\n\n/***/ },\n\n/***/ 106:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _m(0)\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('section', [_h('div', {\n\t    staticClass: \"jumbotron jumbotron-fluid\"\n\t  }, [_h('h1', {\n\t    staticClass: \"screen-1\"\n\t  }, [\"Помощник для подбора образа\"]), \" \", _h('p', [\"Текущая версия — 0.3 alpha\"]), \" \", _h('p', [\"Создан чтобы помочь в ситуациях когда никак не можешь определиться, что же одеть сегодня\"])]), \" \", _h('div', {\n\t    staticClass: \"container\"\n\t  }, [_h('div', {\n\t    staticClass: \"row\"\n\t  }, [_h('div', {\n\t    staticClass: \"col col-md-6\"\n\t  }, [_h('h2', [\"Как пользоваться\"]), \" \", _h('ol', {\n\t    staticClass: \"text-xs-left\"\n\t  }, [_h('li', [\"В разделе \\\"Гардероб\\\" загрузи фотографии нескольких вещей (чем больше вещей тем лучше)\"]), \" \", _h('li', [\"После этого в разделе \\\"Образ\\\" создавай образы\"])])]), \" \", _h('div', {\n\t    staticClass: \"col col-md-6\"\n\t  }, [_h('h2', [\"Возможности версии 0.3\"]), \" \", _h('ol', {\n\t    staticClass: \"text-xs-left\"\n\t  }, [_h('li', [\"Загрузка вещей с сохранением фотографий в локальном хранилище\"]), \" \", _h('li', [\"Сохранение таких свойств вещей, как погодный режим и тип вещи\"]), \" \", _h('li', [\"Удаление вещи из гардероба\"]), \" \", _h('li', [\"Создание образа с фильтром по погодному режиму или без\"]), \" \", _h('li', [\"Сохранение образа с возможностью его загрузки в дальнейшем\"]), \" \", _h('li', [\"Все данные пользователя хранятся на его устройстве в браузере\"])])])])])])\n\t}}]}\n\n/***/ },\n\n/***/ 107:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('section', [_h('item-upload'), \" \", _m(0)])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"container\"\n\t  }, [_h('hr'), \" \", _h('div', {\n\t    staticClass: \"alert alert-warning\",\n\t    attrs: {\n\t      \"role\": \"alert\"\n\t    }\n\t  }, [_h('strong', [\"Обрати внимание!\"]), \" Все загруженные фотографии хранятся локально на твоем компьютере именно в этом\\n    браузере. Никакие файлы никуда не отправляются и не синхронизируются. Поэтому пожалуйста, после загрузки не удаляй\\n    фотографии со своего\\n    компьютера.\\n  \"])])\n\t}}]}\n\n/***/ },\n\n/***/ 108:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', [_h('div', {\n\t    staticClass: \"jumbotron jumbotron-fluid\"\n\t  }, [_m(0), \" \", (!canCreateLook) ? _h('p', [\"Для создания образа необходимо загрузить по крайней мере две вещи. Для этого нужно перейти в раздел \", _h('router-link', {\n\t    attrs: {\n\t      \"to\": \"/wardrobe\"\n\t    }\n\t  }, [\"Гардероб\"])]) : _e(), \" \", (canCreateLook) ? [_h('p', [\"Всего вещей: \" + _s(calcItems(wardrobe)) + \", аксессуаров: \" + _s(calcItems(accessories))])] : _e(), \" \", (canCreateLook) ? [_h('input', {\n\t    attrs: {\n\t      \"type\": \"radio\",\n\t      \"id\": \"winter\",\n\t      \"value\": \"winter\"\n\t    },\n\t    domProps: {\n\t      \"checked\": _q(weather, \"winter\")\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        weather = \"winter\"\n\t      }\n\t    }\n\t  }), \" \", _m(1), \" \", _h('input', {\n\t    attrs: {\n\t      \"type\": \"radio\",\n\t      \"id\": \"inter_season\",\n\t      \"value\": \"inter_season\"\n\t    },\n\t    domProps: {\n\t      \"checked\": _q(weather, \"inter_season\")\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        weather = \"inter_season\"\n\t      }\n\t    }\n\t  }), \" \", _m(2), \" \", _h('input', {\n\t    attrs: {\n\t      \"type\": \"radio\",\n\t      \"id\": \"summer\",\n\t      \"value\": \"summer\"\n\t    },\n\t    domProps: {\n\t      \"checked\": _q(weather, \"summer\")\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        weather = \"summer\"\n\t      }\n\t    }\n\t  }), \" \", _m(3), \" \", _h('button', {\n\t    staticClass: \"btn btn-link\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        weather = 'any'\n\t      }\n\t    }\n\t  }, [\" -- Без разницы\"]), \" \", _h('button', {\n\t    staticClass: \"btn btn-primary\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        generateLook()\n\t      }\n\t    }\n\t  }, [\"Создать образ\"]), \" \", (look.main !== 'empty') ? _h('button', {\n\t    staticClass: \"btn btn-default\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        saveLook()\n\t      }\n\t    }\n\t  }, [\"Сохранить\"]) : _e()] : _e()]), \" \", _h('div', {\n\t    staticClass: \"look\"\n\t  }, [(look.main !== 'empty') ? _h('div', {\n\t    staticClass: \"look__main\"\n\t  }, [_l((look.main), function(item, key) {\n\t    return _h('div', {\n\t      staticClass: \"wardrobe-item\",\n\t      class: key\n\t    }, [_h('img', {\n\t      attrs: {\n\t        \"src\": item.fileURL,\n\t        \"width\": imgWidth\n\t      }\n\t    })])\n\t  })]) : _e(), \" \", (look.accessories !== 'empty') ? _h('div', {\n\t    staticClass: \"look__accessories\"\n\t  }, [_l((look.accessories), function(item, key) {\n\t    return _h('div', {\n\t      staticClass: \"wardrobe-item\"\n\t    }, [_h('img', {\n\t      attrs: {\n\t        \"src\": item.fileURL,\n\t        \"width\": imgWidth\n\t      }\n\t    })])\n\t  })]) : _e()]), \" \", (storedLooks.length > 0) ? _h('div', [_m(4), \" \", _h('div', {\n\t    staticClass: \"btn-toolbar saved-looks\",\n\t    attrs: {\n\t      \"style\": \"text-align:center;\"\n\t    }\n\t  }, [_l((storedLooks), function(look, index) {\n\t    return _h('div', {\n\t      staticClass: \"btn-group\",\n\t      attrs: {\n\t        \"role\": \"group\"\n\t      }\n\t    }, [_h('button', {\n\t      staticClass: \"btn btn-default btn-sm\",\n\t      attrs: {\n\t        \"type\": \"button\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          loadLook(index)\n\t        }\n\t      }\n\t    }, [_s(look.name)]), \" \", _h('button', {\n\t      staticClass: \"btn btn-warning btn-sm\",\n\t      attrs: {\n\t        \"type\": \"button\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          deleteLook(index)\n\t        }\n\t      }\n\t    }, [\"✕\"])])\n\t  })])]) : _e()])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('h1', [\"Образ\"])\n\t}},function (){with(this) {\n\t  return _h('label', {\n\t    attrs: {\n\t      \"for\": \"winter\"\n\t    }\n\t  }, [\"Зима\"])\n\t}},function (){with(this) {\n\t  return _h('label', {\n\t    attrs: {\n\t      \"for\": \"inter_season\"\n\t    }\n\t  }, [\"Межсезонье\"])\n\t}},function (){with(this) {\n\t  return _h('label', {\n\t    attrs: {\n\t      \"for\": \"summer\"\n\t    }\n\t  }, [\"Лето\"])\n\t}},function (){with(this) {\n\t  return _h('h3', [\"Сохраненные образы\"])\n\t}}]}\n\n/***/ },\n\n/***/ 109:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('section', [_h('div', {\n\t    staticClass: \"jumbotron jumbotron-fluid p-b-1\"\n\t  }, [_m(0), \" \", _h('form', {\n\t    staticClass: \"form\"\n\t  }, [_h('div', {\n\t    staticClass: \"form-group\"\n\t  }, [_h('label', {\n\t    staticClass: \"custom-file\"\n\t  }, [_h('input', {\n\t    staticClass: \"custom-file-input\",\n\t    attrs: {\n\t      \"type\": \"file\",\n\t      \"id\": \"file\",\n\t      \"accept\": \".jpg,.png,.jpeg\"\n\t    },\n\t    on: {\n\t      \"change\": fileOnChange\n\t    }\n\t  }), \" \", _h('span', {\n\t    staticClass: \"custom-file-control\",\n\t    class: {\n\t      'chosen': imageFile.name\n\t    }\n\t  })]), \" \", (imageFile.name) ? _h('p', {\n\t    staticClass: \"help-block\"\n\t  }, [\"Выбран файл: \" + _s(imageFile.name)]) : _e(), \" \", (previewSRC) ? _h('img', {\n\t    attrs: {\n\t      \"src\": previewSRC,\n\t      \"height\": \"100\"\n\t    }\n\t  }) : _e()]), \" \", _h('div', {\n\t    staticClass: \"form-group\"\n\t  }, [_h('select', {\n\t    directives: [{\n\t      name: \"model\",\n\t      value: (itemTypeCurrent),\n\t      expression: \"itemTypeCurrent\",\n\t      modifiers: {\n\t        \"lazy\": true\n\t      }\n\t    }],\n\t    staticClass: \"custom-select\",\n\t    on: {\n\t      \"change\": function($event) {\n\t        itemTypeCurrent = Array.prototype.filter.call($event.target.options, function(o) {\n\t          return o.selected\n\t        }).map(function(o) {\n\t          return \"_value\" in o ? o._value : o.value\n\t        })[0]\n\t      }\n\t    }\n\t  }, [_l((itemTypes), function(type) {\n\t    return _h('option', {\n\t      domProps: {\n\t        \"value\": type\n\t      }\n\t    }, [_s(type.name)])\n\t  })])]), \" \", _h('div', {\n\t    staticClass: \"form-group\"\n\t  }, [_m(1), \" \", _l((seasons), function(season) {\n\t    return _h('label', {\n\t      staticClass: \"custom-control custom-checkbox\"\n\t    }, [_h('input', {\n\t      staticClass: \"custom-control-input\",\n\t      attrs: {\n\t        \"type\": \"checkbox\",\n\t        \"name\": \"season\"\n\t      },\n\t      domProps: {\n\t        \"value\": season,\n\t        \"checked\": Array.isArray(seasonsCurrent) ? _i(seasonsCurrent, season) > -1 : _q(seasonsCurrent, true)\n\t      },\n\t      on: {\n\t        \"change\": function($event) {\n\t          var $$a = seasonsCurrent,\n\t            $$el = $event.target,\n\t            $$c = $$el.checked ? (true) : (false);\n\t          if (Array.isArray($$a)) {\n\t            var $$v = season,\n\t              $$i = _i($$a, $$v);\n\t            if ($$c) {\n\t              $$i < 0 && (seasonsCurrent = $$a.concat($$v))\n\t            } else {\n\t              $$i > -1 && (seasonsCurrent = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t            }\n\t          } else {\n\t            seasonsCurrent = $$c\n\t          }\n\t        }\n\t      }\n\t    }), \" \", _m(2, true), \" \", _h('span', {\n\t      staticClass: \"custom-control-description\"\n\t    }, [_s(season.name)])])\n\t  })]), \" \", _h('div', {\n\t    staticClass: \"form-group\"\n\t  }, [_h('button', {\n\t    staticClass: \"btn btn-primary\",\n\t    attrs: {\n\t      \"type\": \"button\",\n\t      \"disabled\": validation.upload\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        submit()\n\t      }\n\t    }\n\t  }, [\"Сохранить\\n        \"])]), \" \", (upload.status === 'success') ? _h('div', {\n\t    staticClass: \"alert alert-success\"\n\t  }, [_s(upload.message)]) : _e(), \" \", (upload.status === 'fail') ? _h('div', {\n\t    staticClass: \"alert alert-danger\"\n\t  }, [_s(upload.message)]) : _e()])]), \" \", \" \", _l((typesPresentInWardrobe()), function(type) {\n\t    return _h('div', {\n\t      staticClass: \"container\"\n\t    }, [_m(3, true), \" \", _m(4, true), \" \", _h('h4', {\n\t      staticClass: \" text-md-left\"\n\t    }, [_s(type.name)]), \" \", _h('div', {\n\t      staticClass: \"wardrobe-items\"\n\t    }, [_l((containsTypeVal(wardrobe, type)), function(item) {\n\t      return _h('div', {\n\t        staticClass: \"item\"\n\t      }, [_h('img', {\n\t        staticClass: \"item-img\",\n\t        attrs: {\n\t          \"src\": item.fileURL,\n\t          \"alt\": item.uid,\n\t          \"nopin\": \"nopin\"\n\t        }\n\t      }), \" \", _h('button', {\n\t        staticClass: \"item-close\",\n\t        on: {\n\t          \"click\": function($event) {\n\t            remove(item.uid)\n\t          }\n\t        }\n\t      }, [\"×\"])])\n\t    })])])\n\t  })])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"raw\"\n\t  }, [_h('h2', [\"Добавить вещь в гардероб\"])])\n\t}},function (){with(this) {\n\t  return _h('label', [\"Cезон: \"])\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"custom-control-indicator\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('h2', [\"Гардероб\"])\n\t}},function (){with(this) {\n\t  return _h('hr')\n\t}}]}\n\n/***/ },\n\n/***/ 112:\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.ae36199f6cb4c324b640.js\n **/","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport App from './App.vue'\nimport look from 'components/look'\nimport wardrobe from 'components/wardrobe'\nimport about from 'components/about'\n\nVue.config.devtools = true\n// install router\nVue.use(VueRouter)\n\nconst routes = [\n  {path: '/about', component: about},\n  {path: '/look', component: look},\n  {path: '/wardrobe', component: wardrobe},\n  {path: '*', redirect: '/look'}\n]\n\nconst router = new VueRouter({\n  routes\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  router,\n  el: 'app',\n  render: h => h(App)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import {Promise} from 'es6-promise'\nimport pica from './pica'\nconst fsStore = {}\nexport default fsStore\n\nconst megabytes = (value = 50) => (1024 * 1024 * value)\nconst saveWD = () => {\n  window.localStorage.setItem('wd_fs', JSON.stringify(WARDROBE))\n}\nconst loadWD = () => (JSON.parse(window.localStorage.getItem('wd_fs')))\n/**\n * Resize and compress input blob image returning blob again\n * @param src {*}\n * @returns {Promise}\n */\nconst resize = src => (\n  new Promise((resolve, reject) => {\n    let MAX_HEIGHT = 500\n    const image = new Image()\n    image.src = src\n    let canvas = document.createElement('canvas')\n    image.onload = () => {\n      if (image.height > MAX_HEIGHT) {\n        image.width *= MAX_HEIGHT / image.height\n        image.height = MAX_HEIGHT\n      }\n      canvas.width = image.width\n      canvas.height = image.height\n      pica.resizeCanvas(image, canvas, {\n        quality: 2,\n        alpha: true,\n        unsharpAmount: 50,\n        unsharpRadius: 0.51,\n        unsharpThreshold: 75,\n        transferable: true\n      }, err => {\n        if (err) {\n          console.log(err)\n          reject(err)\n          return\n        }\n        canvas.toBlob(blob => {\n          resolve(blob)\n        }, 'image/jpeg', 0.90)\n      })\n    }\n    image.src = src\n  })\n)\n\nconst WARDROBE = loadWD() || []\nlet _fs = null\n\nwindow.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem\n\n/**\n * Init filesystem\n */\nfsStore.init = () => (\n  new Promise((resolve, reject) => {\n    navigator.webkitPersistentStorage.requestQuota(megabytes(), grantedBytes => {\n      console.log('Замусолили ', grantedBytes, 'байт. Спасибо, на всю жизнь хватит теперь!')\n      window.webkitRequestFileSystem(window.PERSISTENT, grantedBytes, (filesystem) => {\n        _fs = filesystem\n        resolve('Opened file system: ' + _fs.name)\n      }, error => {\n        reject('Палундра! Мне нужно твое разрешение на сохранение файлов! ' + error.message)\n      })\n    })\n  })\n)\nfsStore.getAllItems = () => {\n  return WARDROBE.slice(0)\n}\n\nfsStore.delete = (uid) => (\n  new Promise((resolve, reject) => {\n    if (_fs) {\n      _fs.root.getFile(uid, {create: false}, fileEntry => {\n        fileEntry.remove(() => {\n          let found = false\n          for (let i = 0; i < WARDROBE.length; ++i) {\n            if (WARDROBE[i].uid === uid) {\n              console.log(WARDROBE[i].uid, uid)\n              WARDROBE.splice(i, 1)\n              found = true\n              saveWD()\n              resolve(fsStore.getAllItems())\n            }\n          }\n          if (!found) reject(new Error('Нарушена целостность данных!'))\n          console.log('File removed.')\n        }, error => {\n          reject(new Error('Не получилось удалить фотографию...' + error.message))\n        })\n      }, () => {\n        reject(new Error('Рассеянный стал, файл потерял по пути. Повтори будь ласка!'))\n      })\n    } else {\n      fsStore.init().then(() => {\n        fsStore.delete(uid)\n      }, error => {\n        reject(new Error('Попробуй еще раз, но в Google Chrome' + error.message))\n      })\n    }\n  })\n)\n\n/**\n * Adding file to local filesystem from File input\n * @param name {String} - name of the file\n * @param file {File} - file object\n * @param season {Object} - season\n * @param type {Object} - item type\n * @returns {Promise} - return promise of url string\n */\nfsStore.add = (file, season, type, name = null) => (\n  new Promise((resolve, reject) => {\n    let url = null\n    // validate data\n    if (!file) {\n      reject(new Error('Картиночку не забываем, пожалуйста'))\n      return\n    }\n    if (!type) {\n      reject(new Error('А что за вещичка? Пальтишко али сапожки?'))\n      return\n    }\n    if (!name) name = file.name\n    if (file.size > megabytes(12)) {\n      reject(new Error('Мне бы файл поменьше, поперхнулся я. Дай на 11 мегабайт хотя бы, а?'))\n      return\n    }\n    // Проверка на уникальность\n    for (let i = 0; i < WARDROBE.length; ++i) {\n      console.log(WARDROBE[i].uid)\n      if (WARDROBE[i].uid === file.name) {\n        reject(new Error('Такая вещичка уже есть!'))\n        return\n      }\n    }\n    if (_fs) {\n      _fs.root.getFile(name, {create: true, exclusive: false}, fileEntry => {\n        // noinspection JSUnresolvedFunction\n        fileEntry.createWriter(fileWriter => {\n          fileWriter.onwriteend = () => {\n            console.log('Write completed.')\n            fileEntry.getMetadata(function (metadata) {\n              console.log(metadata) // or do something more useful with it...\n            })\n            url = fileEntry.toURL()\n            WARDROBE.push({\n              uid: name,\n              fileURL: url,\n              season: season,\n              type: type\n            })\n            saveWD()\n            resolve(url)\n          }\n          fileWriter.onerror = e => {\n            reject(new Error('Что-то пошло совсем не по плану... ' + e.toString()))\n          }\n          let fr = new FileReader()\n          fr.onload = e => {\n            resize(e.target.result).then(newblob => {\n              console.dir(newblob)\n              fileWriter.write(newblob)\n            }).catch(reject)\n          }\n          fr.onerror = reject\n          fr.readAsDataURL(file)\n        })\n      }, () => {\n        reject(new Error('Рассеянный стал, файл потерял по пути. Повтори будь ласка!'))\n      })\n    } else {\n      fsStore.init().then(() => {\n        fsStore.add(file, season, type, name)\n      }, error => {\n        reject(new Error('Попробуй еще раз, но в Google Chrome. ' + error.toString()))\n      })\n    }\n  })\n)\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/wardrobe-store-fs/index.js\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-4&scoped=true!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./look.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./look.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-4!vue-loader/lib/selector?type=template&index=0!./look.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-4\"\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/look.vue\n ** module id = 48\n ** module chunks = 2\n **/","let items = []\nconst saveItems = () => {\n  window.localStorage.setItem('storedLooks', JSON.stringify(items))\n}\n\nconst looks = {\n  /**\n   * Return saved looks\n   * @returns {Array} - saved looks\n   */\n  get: () => {\n    if (items.length > 0) return items\n    let storedLooks = window.localStorage.getItem('storedLooks')\n    if (storedLooks) {\n      items.length = 0\n      items = JSON.parse(storedLooks)\n      console.log(items)\n    }\n    return items\n  },\n  /**\n   * Add new look to collection and save it\n   * @param newLook {Object}\n   */\n  add: function (newLook) {\n    /**\n     * Check if collection has identical item already\n     * @param look {Object}\n     * @param storedLooks {Array}\n     * @returns {boolean}\n     */\n    const noEquals = (look, storedLooks) => {\n      let noEqual = true\n      for (let i = 0; i < storedLooks.length; ++i) {\n        if (JSON.stringify(storedLooks[i].look) === JSON.stringify(look)) {\n          noEqual = false\n          break\n        }\n      }\n      return noEqual\n    }\n    /**\n     * Get maximal number for a list of stored looks, needed for name increment\n     * @returns {Number}\n     */\n    const maxNum = () => {\n      let maxNum = 1\n      for (let i = 0; i < items.length; ++i) {\n        let curName = parseInt(items[i].name, 10)\n        if (curName >= maxNum) maxNum = curName + 1\n      }\n      return maxNum\n    }\n    if (newLook.main !== 'empty' && noEquals(newLook, items)) {\n      let lookToStore = {}\n      lookToStore.name = maxNum()\n      lookToStore.look = Object.assign({}, newLook)\n      items.push(lookToStore)\n      saveItems()\n    }\n  },\n  /**\n   * Delete look from looks by index\n   * @param idx {Number}\n   */\n  delete: function (idx) {\n    items.splice(idx, 1)\n    saveItems()\n  }\n}\n\nexport default looks\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/looks-store/index.js\n **/","/* pica 2.0.8 nodeca/pica */\nexport default (function (f) {\n  var g;\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f()\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f)\n  } else {\n    if (typeof window !== \"undefined\") {\n      g = window\n    } else if (typeof global !== \"undefined\") {\n      g = global\n    } else if (typeof self !== \"undefined\") {\n      g = self\n    } else {\n      g = this\n    }\n    g.pica = f();\n  }\n  return f();\n})(function () {\n  var define, module, exports;\n  return (function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a)return a(o, !0);\n          if (i)return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f\n        }\n        var l = n[o] = {exports: {}};\n        t[o][0].call(l.exports, function (e) {\n          var n = t[o][1][e];\n          return s(n ? n : e)\n        }, l, l.exports, e, t, n, r)\n      }\n      return n[o].exports\n    }\n\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++)s(r[o]);\n    return s\n  })({\n    1: [function (require, module, exports) {\n      'use strict';\n\n      /* global document */\n\n      module.exports = function () {\n        return document.createElement('canvas');\n      };\n\n    }, {}],\n    2: [function (require, module, exports) {\n      'use strict';\n\n      var lastId = 1;\n\n      module.exports = function () {\n        return lastId++;\n      };\n\n    }, {}],\n    3: [function (require, module, exports) {\n      'use strict';\n\n      var IDLE = 2000;\n      var TIMEOUT = 500;\n\n      function Pool(create) {\n        this.create = create;\n\n        this.available = [];\n        this.acquired = {};\n        this.lastId = 1;\n\n        this.timeoutId = 0;\n      }\n\n      Pool.prototype.acquire = function () {\n        var self = this;\n        var resource;\n        if (this.available.length !== 0) {\n          resource = this.available.pop();\n        } else {\n          resource = this.create();\n          resource.id = this.lastId++;\n          resource.release = function () {\n            self.release(resource);\n          };\n        }\n        this.acquired[resource.id] = resource;\n        return resource;\n      };\n\n      Pool.prototype.release = function (resource) {\n        delete this.acquired[resource.id];\n        resource.lastUsed = Date.now();\n        this.available.push(resource);\n\n        if (this.timeoutId === 0) {\n          this.timeoutId = setTimeout(this.gc.bind(this), TIMEOUT);\n        }\n      };\n\n      Pool.prototype.gc = function () {\n        var now = Date.now();\n\n        this.available = this.available.filter(function (resource) {\n          if (now - resource.lastUsed > IDLE) {\n            resource.destroy();\n            return false;\n          }\n          return true;\n        });\n\n        if (this.available.length !== 0) {\n          this.timeoutId = setTimeout(this.gc.bind(this), TIMEOUT);\n        } else {\n          this.timeoutId = 0;\n        }\n      };\n\n      module.exports = Pool;\n\n    }, {}],\n    4: [function (require, module, exports) {\n// High speed resize with tuneable speed/quality ratio\n\n      'use strict';\n\n\n// Precision of fixed FP values\n      var FIXED_FRAC_BITS = 14;\n\n\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n      var FILTER_INFO = [\n        { // Nearest neibor (Box)\n          win: 0.5,\n          filter: function (x) {\n            return (x >= -0.5 && x < 0.5) ? 1.0 : 0.0;\n          }\n        },\n        { // Hamming\n          win: 1.0,\n          filter: function (x) {\n            if (x <= -1.0 || x >= 1.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return ((Math.sin(xpi) / xpi) * (0.54 + 0.46 * Math.cos(xpi / 1.0)));\n          }\n        },\n        { // Lanczos, win = 2\n          win: 2.0,\n          filter: function (x) {\n            if (x <= -2.0 || x >= 2.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return (Math.sin(xpi) / xpi) * Math.sin(xpi / 2.0) / (xpi / 2.0);\n          }\n        },\n        { // Lanczos, win = 3\n          win: 3.0,\n          filter: function (x) {\n            if (x <= -3.0 || x >= 3.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return (Math.sin(xpi) / xpi) * Math.sin(xpi / 3.0) / (xpi / 3.0);\n          }\n        }\n      ];\n\n      function clampTo8(i) {\n        return i < 0 ? 0 : (i > 255 ? 255 : i);\n      }\n\n      function toFixedPoint(num) {\n        return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n      }\n\n\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n      function createFilters(quality, srcSize, destSize, scale, offset) {\n\n        var filterFunction = FILTER_INFO[quality].filter;\n\n        var scaleInverted = 1.0 / scale;\n        var scaleClamped = Math.min(1.0, scale); // For upscale\n\n        // Filter window (averaging interval), scaled to src image\n        var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n\n        var destPixel, srcPixel, srcFirst, srcLast, filterElementSize,\n          floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n        var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n\n        var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n        var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n        var packedFilterPtr = 0;\n\n        // For each destination pixel calculate source range and built filter values\n        for (destPixel = 0; destPixel < destSize; destPixel++) {\n\n          // Scaling should be done relative to central pixel point\n          srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n\n          srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n          srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n\n          filterElementSize = srcLast - srcFirst + 1;\n          floatFilter = new Float32Array(filterElementSize);\n          fxpFilter = new Int16Array(filterElementSize);\n\n          total = 0.0;\n\n          // Fill filter values for calculated range\n          for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n            floatVal = filterFunction(((pxl + 0.5) - srcPixel) * scaleClamped);\n            total += floatVal;\n            floatFilter[idx] = floatVal;\n          }\n\n          // Normalize filter, convert to fixed point and accumulate conversion error\n          filterTotal = 0;\n\n          for (idx = 0; idx < floatFilter.length; idx++) {\n            filterVal = floatFilter[idx] / total;\n            filterTotal += filterVal;\n            fxpFilter[idx] = toFixedPoint(filterVal);\n          }\n\n          // Compensate normalization error, to minimize brightness drift\n          fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal);\n\n          //\n          // Now pack filter to useable form\n          //\n          // 1. Trim heading and tailing zero values, and compensate shitf/length\n          // 2. Put all to single array in this format:\n          //\n          //    [ pos shift, data length, value1, value2, value3, ... ]\n          //\n\n          leftNotEmpty = 0;\n          while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n            leftNotEmpty++;\n          }\n\n          if (leftNotEmpty < fxpFilter.length) {\n            rightNotEmpty = fxpFilter.length - 1;\n            while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n              rightNotEmpty--;\n            }\n\n            filterShift = srcFirst + leftNotEmpty;\n            filterSize = rightNotEmpty - leftNotEmpty + 1;\n\n            packedFilter[packedFilterPtr++] = filterShift; // shift\n            packedFilter[packedFilterPtr++] = filterSize; // size\n\n            packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n            packedFilterPtr += filterSize;\n          } else {\n            // zero data, write header only\n            packedFilter[packedFilterPtr++] = 0; // shift\n            packedFilter[packedFilterPtr++] = 0; // size\n          }\n        }\n        return packedFilter;\n      }\n\n// Convolve image in horizontal directions and transpose output. In theory,\n// transpose allow:\n//\n// - use the same convolver for both passes (this fails due different\n//   types of input array and temporary buffer)\n// - making vertical pass by horisonltal lines inprove CPU cache use.\n//\n// But in real life this doesn't work :)\n//\n      function convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n\n        var r, g, b, a;\n        var filterPtr, filterShift, filterSize;\n        var srcPtr, srcY, destX, filterVal;\n        var srcOffset = 0, destOffset = 0;\n\n        // For each row\n        for (srcY = 0; srcY < srcH; srcY++) {\n          filterPtr = 0;\n\n          /*eslint-disable space-infix-ops*/\n\n          // Apply precomputed filters to each destination row point\n          for (destX = 0; destX < destW; destX++) {\n            // Get the filter that determines the current output pixel.\n            filterShift = filters[filterPtr++];\n            filterSize = filters[filterPtr++];\n\n            srcPtr = (srcOffset + (filterShift * 4)) | 0;\n\n            r = g = b = a = 0;\n\n            // Apply the filter to the row to get the destination pixel r, g, b, a\n            for (; filterSize > 0; filterSize--) {\n              filterVal = filters[filterPtr++];\n\n              // Use reverse order to workaround deopts in old v8 (node v.10)\n              // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n              a = (a + filterVal * src[srcPtr + 3]) | 0;\n              b = (b + filterVal * src[srcPtr + 2]) | 0;\n              g = (g + filterVal * src[srcPtr + 1]) | 0;\n              r = (r + filterVal * src[srcPtr]) | 0;\n              srcPtr = (srcPtr + 4) | 0;\n            }\n\n            // Bring this value back in range. All of the filter scaling factors\n            // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n            //\n            // (!) Add 1/2 of value before clamping to get proper rounding. In other\n            // case brightness loss will be noticeable if you resize image with white\n            // border and place it on white background.\n            //\n            dest[destOffset + 3] = clampTo8((a + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset + 2] = clampTo8((b + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset + 1] = clampTo8((g + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset] = clampTo8((r + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            destOffset = (destOffset + srcH * 4) | 0;\n          }\n\n          destOffset = ((srcY + 1) * 4) | 0;\n          srcOffset = ((srcY + 1) * srcW * 4) | 0;\n        }\n      }\n\n// Technically, convolvers are the same. But input array and temporary\n// buffer can be of different type (especially, in old browsers). So,\n// keep code in separate functions to avoid deoptimizations & speed loss.\n\n      function convolveVertically(src, dest, srcW, srcH, destW, filters) {\n\n        var r, g, b, a;\n        var filterPtr, filterShift, filterSize;\n        var srcPtr, srcY, destX, filterVal;\n        var srcOffset = 0, destOffset = 0;\n\n        // For each row\n        for (srcY = 0; srcY < srcH; srcY++) {\n          filterPtr = 0;\n\n          /*eslint-disable space-infix-ops*/\n\n          // Apply precomputed filters to each destination row point\n          for (destX = 0; destX < destW; destX++) {\n            // Get the filter that determines the current output pixel.\n            filterShift = filters[filterPtr++];\n            filterSize = filters[filterPtr++];\n\n            srcPtr = (srcOffset + (filterShift * 4)) | 0;\n\n            r = g = b = a = 0;\n\n            // Apply the filter to the row to get the destination pixel r, g, b, a\n            for (; filterSize > 0; filterSize--) {\n              filterVal = filters[filterPtr++];\n\n              // Use reverse order to workaround deopts in old v8 (node v.10)\n              // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n              a = (a + filterVal * src[srcPtr + 3]) | 0;\n              b = (b + filterVal * src[srcPtr + 2]) | 0;\n              g = (g + filterVal * src[srcPtr + 1]) | 0;\n              r = (r + filterVal * src[srcPtr]) | 0;\n              srcPtr = (srcPtr + 4) | 0;\n            }\n\n            // Bring this value back in range. All of the filter scaling factors\n            // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n            //\n            // (!) Add 1/2 of value before clamping to get proper rounding. In other\n            // case brightness loss will be noticeable if you resize image with white\n            // border and place it on white background.\n            //\n            dest[destOffset + 3] = clampTo8((a + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset + 2] = clampTo8((b + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset + 1] = clampTo8((g + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            dest[destOffset] = clampTo8((r + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n            destOffset = (destOffset + srcH * 4) | 0;\n          }\n\n          destOffset = ((srcY + 1) * 4) | 0;\n          srcOffset = ((srcY + 1) * srcW * 4) | 0;\n        }\n      }\n\n\n      function resetAlpha(dst, width, height) {\n        var ptr = 3, len = (width * height * 4) | 0;\n        while (ptr < len) {\n          dst[ptr] = 0xFF;\n          ptr = (ptr + 4) | 0;\n        }\n      }\n\n\n      function resize(options) {\n        var src = options.src;\n        var srcW = options.width;\n        var srcH = options.height;\n        var destW = options.toWidth;\n        var destH = options.toHeight;\n        var scaleX = options.scaleX || options.toWidth / options.width;\n        var scaleY = options.scaleY || options.toHeight / options.height;\n        var offsetX = options.offsetX || 0;\n        var offsetY = options.offsetY || 0;\n        var dest = options.dest || new Uint8Array(destW * destH * 4);\n        var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n        var alpha = options.alpha || false;\n\n        if (srcW < 1 || srcH < 1 || destW < 1 || destH < 1) {\n          return [];\n        }\n\n        var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n          filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n\n        var tmp = new Uint8Array(destW * srcH * 4);\n\n        // To use single function we need src & tmp of the same type.\n        // But src can be CanvasPixelArray, and tmp - Uint8Array. So, keep\n        // vertical and horizontal passes separately to avoid deoptimization.\n\n        convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n        convolveVertically(tmp, dest, srcH, destW, destH, filtersY);\n\n        // That's faster than doing checks in convolver.\n        // !!! Note, canvas data is not premultipled. We don't need other\n        // alpha corrections.\n\n        if (!alpha) {\n          resetAlpha(dest, destW, destH);\n        }\n\n        return dest;\n      }\n\n\n      module.exports = resize;\n\n    }, {}],\n    5: [function (require, module, exports) {\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSL, unsharp mask is applied to the\n// lightness channel and then image is converted back to RGB.\n\n      'use strict';\n\n\n      var glurMono16 = require('glur/mono16');\n\n      function getLightness(img, width, height) {\n        var size = width * height;\n        var out = new Uint16Array(size);\n        var r, g, b, min, max;\n        for (var i = 0; i < size; i++) {\n          r = img[4 * i];\n          g = img[4 * i + 1];\n          b = img[4 * i + 2];\n          max = (r >= g && r >= b) ? r : (g >= b && g >= r) ? g : b;\n          min = (r <= g && r <= b) ? r : (g <= b && g <= r) ? g : b;\n          out[i] = (max + min) * 257 >> 1;\n        }\n        return out;\n      }\n\n      function unsharp(img, width, height, amount, radius, threshold) {\n        var r, g, b;\n        var h, s, l;\n        var min, max;\n        var m1, m2, hShifted;\n        var diff, iTimes4;\n\n        if (amount === 0 || radius < 0.5) {\n          return;\n        }\n        if (radius > 2.0) {\n          radius = 2.0;\n        }\n\n        var lightness = getLightness(img, width, height);\n\n        var blured = new Uint16Array(lightness); // copy, because blur modify src\n\n        glurMono16(blured, width, height, radius);\n\n        /* eslint-disable space-infix-ops */\n        var amountFp = (amount / 100 * 0x1000 + 0.5) | 0;\n        var thresholdFp = (threshold * 257) | 0;\n\n        var size = width * height;\n\n        for (var i = 0; i < size; i++) {\n          diff = 2 * (lightness[i] - blured[i]);\n\n          if (Math.abs(diff) >= thresholdFp) {\n            iTimes4 = i * 4;\n            r = img[iTimes4];\n            g = img[iTimes4 + 1];\n            b = img[iTimes4 + 2];\n\n            // convert RGB to HSL\n            // take RGB, 8-bit unsigned integer per each channel\n            // save HSL, H and L are 16-bit unsigned integers, S is 12-bit unsigned integer\n            // math is taken from here: http://www.easyrgb.com/index.php?X=MATH&H=18\n            // and adopted to be integer (fixed point in fact) for sake of performance\n            max = (r >= g && r >= b) ? r : (g >= r && g >= b) ? g : b; // min and max are in [0..0xff]\n            min = (r <= g && r <= b) ? r : (g <= r && g <= b) ? g : b;\n            l = (max + min) * 257 >> 1; // l is in [0..0xffff] that is caused by multiplication by 257\n\n            if (min === max) {\n              h = s = 0;\n            } else {\n              s = (l <= 0x7fff) ?\n              (((max - min) * 0xfff) / (max + min)) | 0 :\n              (((max - min) * 0xfff) / (2 * 0xff - max - min)) | 0; // s is in [0..0xfff]\n              // h could be less 0, it will be fixed in backward conversion to RGB, |h| <= 0xffff / 6\n              h = (r === max) ? (((g - b) * 0xffff) / (6 * (max - min))) | 0\n                : (g === max) ? 0x5555 + ((((b - r) * 0xffff) / (6 * (max - min))) | 0) // 0x5555 == 0xffff / 3\n                : 0xaaaa + ((((r - g) * 0xffff) / (6 * (max - min))) | 0); // 0xaaaa == 0xffff * 2 / 3\n            }\n\n            // add unsharp mask mask to the lightness channel\n            l += (amountFp * diff + 0x800) >> 12;\n            if (l > 0xffff) {\n              l = 0xffff;\n            } else if (l < 0) {\n              l = 0;\n            }\n\n            // convert HSL back to RGB\n            // for information about math look above\n            if (s === 0) {\n              r = g = b = l >> 8;\n            } else {\n              m2 = (l <= 0x7fff) ? (l * (0x1000 + s) + 0x800) >> 12 :\n              l + (((0xffff - l) * s + 0x800) >> 12);\n              m1 = 2 * l - m2 >> 8;\n              m2 >>= 8;\n              // save result to RGB channels\n              // R channel\n              hShifted = (h + 0x5555) & 0xffff; // 0x5555 == 0xffff / 3\n              r = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n                : (hShifted >= 0x7fff) ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n                : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n                : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n              // G channel\n              hShifted = h & 0xffff;\n              g = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n                : (hShifted >= 0x7fff) ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n                : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n                : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n              // B channel\n              hShifted = (h - 0x5555) & 0xffff;\n              b = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n                : (hShifted >= 0x7fff) ? m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n                : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n                : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n            }\n\n            img[iTimes4] = r;\n            img[iTimes4 + 1] = g;\n            img[iTimes4 + 2] = b;\n          }\n        }\n      }\n\n      module.exports = unsharp;\n      module.exports.lightness = getLightness;\n\n    }, {\"glur/mono16\": 11}],\n    6: [function (require, module, exports) {\n      'use strict';\n\n      /*\n       * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n       * functions which take into account floating point arithmetic errors.\n       * Those errors can cause undesired increments/decrements of sizes and offsets:\n       * Math.ceil(36 / (36 / 500)) = 501\n       * pixelCeil(36 / (36 / 500)) = 500\n       */\n\n      var PIXEL_EPSILON = 1e-5;\n\n      function pixelFloor(x) {\n        var nearest = Math.round(x);\n\n        if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n          return nearest;\n        }\n        return Math.floor(x);\n      }\n\n      function pixelCeil(x) {\n        var nearest = Math.round(x);\n\n        if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n          return nearest;\n        }\n        return Math.ceil(x);\n      }\n\n      module.exports.createRegions = function createRegions(options) {\n        var scaleX = options.toWidth / options.width;\n        var scaleY = options.toHeight / options.height;\n\n        var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n        var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder;\n\n        var x, y;\n        var innerX, innerY, toTileWidth, toTileHeight;\n        var tiles = [];\n        var tile;\n\n        // we go top-to-down instead of left-to-right to make image displayed from top to\n        // doesn in the browser\n        for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n          for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n            x = innerX - options.destTileBorder;\n            if (x < 0) {\n              x = 0;\n            }\n            toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n            if (x + toTileWidth >= options.toWidth) {\n              toTileWidth = options.toWidth - x;\n            }\n\n            y = innerY - options.destTileBorder;\n            if (y < 0) {\n              y = 0;\n            }\n            toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n            if (y + toTileHeight >= options.toHeight) {\n              toTileHeight = options.toHeight - y;\n            }\n\n            tile = {\n              toX: x,\n              toY: y,\n              toWidth: toTileWidth,\n              toHeight: toTileHeight,\n\n              toInnerX: innerX,\n              toInnerY: innerY,\n              toInnerWidth: innerTileWidth,\n              toInnerHeight: innerTileHeight,\n\n              offsetX: x / scaleX - pixelFloor(x / scaleX),\n              offsetY: y / scaleY - pixelFloor(y / scaleY),\n              scaleX: scaleX,\n              scaleY: scaleY,\n\n              x: pixelFloor(x / scaleX),\n              y: pixelFloor(y / scaleY),\n              width: pixelCeil(toTileWidth / scaleX),\n              height: pixelCeil(toTileHeight / scaleY)\n            };\n\n            tiles.push(tile);\n          }\n        }\n\n        return tiles;\n      };\n\n      module.exports.eachLimit = function eachLimit(list, limit, iterator, callback) {\n        if (list.length === 0) {\n          callback();\n        }\n\n        var executed = 0;\n        var finished = 0;\n        var failed = false;\n\n        function next(err) {\n          if (failed) {\n            return;\n          }\n          if (err) {\n            failed = true;\n            callback(err);\n            return;\n          }\n\n          finished++;\n          if (finished === list.length) {\n            callback();\n          } else if (executed < list.length) {\n            iterator(list[executed++], next);\n          }\n        }\n\n        while (executed < limit && executed < list.length) {\n          iterator(list[executed++], next);\n        }\n      };\n\n    }, {}],\n    7: [function (require, module, exports) {\n// Web Worker wrapper for image resize function\n\n      'use strict';\n\n      module.exports = function (self) {\n        var resize = require('./resize_array');\n        var unsharp = require('./unsharp');\n\n        self.onmessage = function (ev) {\n          var options = ev.data;\n          options.dest = new Uint8Array(options.toWidth * options.toHeight * 4);\n\n          resize(options);\n\n          if (options.unsharpAmount) {\n            unsharp(options.dest, options.toWidth, options.toHeight,\n              options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n          }\n\n          self.postMessage({output: options.dest}, [options.dest.buffer]);\n        };\n      };\n\n    }, {\"./resize_array\": 4, \"./unsharp\": 5}],\n    8: [function (require, module, exports) {\n      /*eslint space-infix-ops:0*/\n\n      'use strict';\n\n      var resize = require('./js/resize_array');\n      var unsharp = require('./js/unsharp');\n      var createRegions = require('./js/utils').createRegions;\n      var eachLimit = require('./js/utils').eachLimit;\n      var generateId = require('./js/generate_id');\n      var createCanvas = require('./js/create_canvas');\n\n      var SRC_TILE_SIZE = 1024;\n      var DEST_TILE_BORDER = 3;\n\n      function resize_js(from, to, options, callback) {\n        var toCtx = to.getContext('2d', {alpha: Boolean(options.alpha)});\n\n        // We use intermediate canvases because, getImageData() from canvas region\n        // is 8x times slower in FF than getImageData() from whole canvas.\n        // That adds ~20% delay in Chrome :(.\n        //\n        // See https://bugzilla.mozilla.org/show_bug.cgi?id=1001069\n\n        var fromTile = createCanvas();\n\n        fromTile.width = Math.min(SRC_TILE_SIZE, from.width);\n        fromTile.height = Math.min(SRC_TILE_SIZE, from.height);\n\n        var fromTileCtx = fromTile.getContext('2d', {alpha: Boolean(options.alpha)});\n\n        // Should not use previous content of reused canvas when alpha exists.\n        fromTileCtx.globalCompositeOperation = 'copy';\n\n        var regions = createRegions({\n          width: from.naturalWidth || from.width,\n          height: from.naturalHeight || from.height,\n          srcTileSize: SRC_TILE_SIZE,\n          toWidth: to.width,\n          toHeight: to.height,\n          destTileBorder: Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * options.unsharpRadius | 0))\n        });\n\n        eachLimit(regions, 1, function (tile, next) {\n          fromTileCtx.drawImage(from, tile.x, tile.y, tile.width, tile.height,\n            0, 0, tile.width, tile.height);\n\n          var fromImageData = fromTileCtx.getImageData(0, 0, tile.width, tile.height);\n          var toImageData = toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n          var _opts = {\n            src: fromImageData.data,\n            dest: toImageData.data,\n            width: tile.width,\n            height: tile.height,\n            toWidth: tile.toWidth,\n            toHeight: tile.toHeight,\n            scaleX: tile.scaleX,\n            scaleY: tile.scaleY,\n            offsetX: tile.offsetX,\n            offsetY: tile.offsetY,\n            quality: options.quality,\n            alpha: options.alpha,\n            unsharpAmount: options.unsharpAmount,\n            unsharpRadius: options.unsharpRadius,\n            unsharpThreshold: options.unsharpThreshold\n          };\n\n          resize(_opts);\n\n          if (options.unsharpAmount) {\n            unsharp(_opts.dest, _opts.toWidth, _opts.toHeight,\n              _opts.unsharpAmount, _opts.unsharpRadius, _opts.unsharpThreshold);\n          }\n\n          toCtx.putImageData(toImageData, tile.toX, tile.toY,\n            tile.toInnerX - tile.toX, tile.toInnerY - tile.toY,\n            tile.toInnerWidth, tile.toInnerHeight);\n          next();\n        }, callback);\n\n        return generateId();\n      }\n\n      module.exports = resize_js;\n      module.exports.terminate = function () {\n      };\n\n    }, {\"./js/create_canvas\": 1, \"./js/generate_id\": 2, \"./js/resize_array\": 4, \"./js/unsharp\": 5, \"./js/utils\": 6}],\n    9: [function (require, module, exports) {\n      /* global navigator, window */\n      /*eslint space-infix-ops:0*/\n\n      'use strict';\n\n\n      var webworkify = require('webworkify');\n      var resizeWorker = require('./js/worker.js');\n      var createRegions = require('./js/utils').createRegions;\n      var eachLimit = require('./js/utils').eachLimit;\n      var generateId = require('./js/generate_id');\n      var createCanvas = require('./js/create_canvas');\n      var Pool = require('./js/pool');\n\n      var SRC_TILE_SIZE = 1024;\n      var DEST_TILE_BORDER = 3;\n      var NEED_SAFARI_FIX = false;\n      try {\n        NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') !== -1;\n      } catch (e) {\n      }\n\n      var workersPool = new Pool(function () {\n        return {\n          value: webworkify(resizeWorker),\n          destroy: function () {\n            this.value.terminate();\n\n            if (typeof window !== 'undefined') {\n              var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n              if (url && url.revokeObjectURL && this.value.objectURL) {\n                url.revokeObjectURL(this.value.objectURL);\n              }\n            }\n          }\n        };\n      });\n\n      var running = {};\n\n      function resize_js_ww(from, to, options, callback) {\n        var toCtx = to.getContext('2d', {alpha: Boolean(options.alpha)});\n        /* We use intermediate canvases because without it Firefox resizes 8x times slower\n         * than with it. It makes resize 20% slower in Chrome */\n        var fromTile = createCanvas();\n\n        fromTile.width = Math.min(SRC_TILE_SIZE, from.naturalWidth || from.width);\n        fromTile.height = Math.min(SRC_TILE_SIZE, from.naturalHeight || from.height);\n\n        var fromTileCtx = fromTile.getContext('2d', {alpha: Boolean(options.alpha)});\n\n        // Should not use previous content of reused canvas when alpha exists.\n        fromTileCtx.globalCompositeOperation = 'copy';\n\n        var regions = createRegions({\n          width: from.naturalWidth || from.width,\n          height: from.naturalHeight || from.height,\n          srcTileSize: SRC_TILE_SIZE,\n          toWidth: to.width,\n          toHeight: to.height,\n          destTileBorder: Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * options.unsharpRadius | 0))\n        });\n\n        var concurrency = 1;\n        if (typeof navigator !== 'undefined') {\n          concurrency = navigator.hardwareConcurrency || 1;\n        }\n\n        var id = options._id || generateId();\n\n        running[id] = true;\n        eachLimit(regions, concurrency, function (tile, next) {\n          fromTileCtx.drawImage(from, tile.x, tile.y, tile.width, tile.height,\n            0, 0, tile.width, tile.height);\n\n          var fromImageData = fromTileCtx.getImageData(0, 0, tile.width, tile.height);\n\n          var _opts = {\n            src: fromImageData.data,\n            width: tile.width,\n            height: tile.height,\n            toWidth: tile.toWidth,\n            toHeight: tile.toHeight,\n            scaleX: tile.scaleX,\n            scaleY: tile.scaleY,\n            offsetX: tile.offsetX,\n            offsetY: tile.offsetY,\n            quality: options.quality,\n            alpha: options.alpha,\n            unsharpAmount: options.unsharpAmount,\n            unsharpRadius: options.unsharpRadius,\n            unsharpThreshold: options.unsharpThreshold\n          };\n\n          var worker = workersPool.acquire();\n\n          worker.value.onmessage = function (ev) {\n            var i, l;\n            var imageDataTo, output, dest;\n\n            worker.release();\n\n            if (!running[id]) {\n              next(true);\n              return;\n            }\n            if (ev.data.err) {\n              next(ev.data.err);\n              return;\n            }\n\n            imageDataTo = toCtx.createImageData(tile.toWidth, tile.toHeight);\n            output = ev.data.output;\n            dest = imageDataTo.data;\n\n            if (dest.set) {\n              dest.set(output);\n            } else {\n              for (i = 0, l = output.length; i < l; i++) {\n                dest[i] = output[i];\n              }\n            }\n\n            if (NEED_SAFARI_FIX) {\n              // Safari draws thin white stripes between tiles without this fix\n              toCtx.putImageData(imageDataTo, tile.toX, tile.toY,\n                tile.toInnerX - tile.toX, tile.toInnerY - tile.toY,\n                tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n            } else {\n              toCtx.putImageData(imageDataTo, tile.toX, tile.toY,\n                tile.toInnerX - tile.toX, tile.toInnerY - tile.toY,\n                tile.toInnerWidth, tile.toInnerHeight);\n            }\n            next();\n          };\n\n          worker.value.postMessage(_opts, [_opts.src.buffer]);\n        }, function (err) {\n          if (running[id]) {\n            delete running[id];\n            callback(err);\n          }\n        });\n\n        return id;\n      }\n\n      function terminate(id) {\n        if (running[id]) {\n          delete running[id];\n        }\n      }\n\n      module.exports = resize_js_ww;\n      module.exports.terminate = terminate;\n\n    }, {\n      \"./js/create_canvas\": 1,\n      \"./js/generate_id\": 2,\n      \"./js/pool\": 3,\n      \"./js/utils\": 6,\n      \"./js/worker.js\": 7,\n      \"webworkify\": 13\n    }],\n    10: [function (require, module, exports) {\n      /*global window,document*/\n      'use strict';\n\n\n      var unsharp = require('./js/unsharp');\n      var generateId = require('./js/generate_id');\n\n// shaders\n\n      var shadersContent = {};\n\n      /*eslint-disable no-path-concat*/\n      shadersContent['#vsh-basic'] =\n        \"precision highp float;\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\n\\nuniform vec2 u_resolution;\\n\\nvarying vec2 v_texCoord;\\n\\nvoid main() {\\n   vec2 clipSpace = a_position / u_resolution * 2.0 - 1.0;\\n\\n   gl_Position = vec4(clipSpace, 0, 1);\\n   v_texCoord = a_texCoord;\\n}\\n\";\n      shadersContent['#fsh-lanczos1d-optimized-tpl'] =\n        \"precision highp float;\\n\\nvarying vec2 v_texCoord;\\n\\nuniform sampler2D u_image;\\n\\n#define addPoint(offset, kv, total)   {vec2 pos = v_texCoord + offset; gl_FragColor += texture2D(u_image, pos) * kv; total += kv; }\\n\\nvoid main()\\n{\\n__CODE__\\n}\\n\";\n\n// optimization\n\n      var FILTER_INFO = [\n        { // Nearest neibor (Box)\n          win: 0.5,\n          filter: function (x) {\n            return (x >= -0.5 && x < 0.5) ? 1.0 : 0.0;\n          }\n        },\n        { // Hamming\n          win: 1.0,\n          filter: function (x) {\n            if (x <= -1.0 || x >= 1.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return ((Math.sin(xpi) / xpi) * (0.54 + 0.46 * Math.cos(xpi / 1.0)));\n          }\n        },\n        { // Lanczos, win = 2\n          win: 2.0,\n          filter: function (x) {\n            if (x <= -2.0 || x >= 2.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return (Math.sin(xpi) / xpi) * Math.sin(xpi / 2.0) / (xpi / 2.0);\n          }\n        },\n        { // Lanczos, win = 3\n          win: 3.0,\n          filter: function (x) {\n            if (x <= -3.0 || x >= 3.0) {\n              return 0.0;\n            }\n            if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n              return 1.0;\n            }\n            var xpi = x * Math.PI;\n            return (Math.sin(xpi) / xpi) * Math.sin(xpi / 3.0) / (xpi / 3.0);\n          }\n        }\n      ];\n\n// error\n\n      function error(msg) {\n        try {\n          (window.console.error || window.console.log).call(window.console, msg);\n        } catch (__) {\n        }\n      }\n\n\n      function checkGlError(gl) {\n        var e = gl.getError();\n        if (e !== gl.NO_ERROR) {\n          throw new Error('gl error ' + e);\n        }\n      }\n\n// create\n\n      function createGl(canvas) {\n        return canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n      }\n\n\n      function createShader(gl, type, src) {\n        var shader = gl.createShader(type);\n\n        gl.shaderSource(shader, src);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n          error('Shader compile error: ' + gl.getShaderInfoLog(shader) + '. Source: `' + src + '`');\n          gl.deleteShader(shader);\n          return null;\n        }\n\n        return shader;\n      }\n\n      function createProgram(gl, vertexShader, fragmentShader) {\n        var program = gl.createProgram();\n\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n\n        gl.linkProgram(program);\n\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n          error('Program linking error: ' + gl.getProgramInfoLog(program));\n          gl.deleteProgram(program);\n        }\n\n        checkGlError(gl);\n        return program;\n      }\n\n// shader params\n\n      function setAttributeValues(gl, program, name, values, options) {\n        var a = gl.getAttribLocation(program, name);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(values), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(a);\n        gl.vertexAttribPointer(a, options.elementSize, gl.FLOAT, false, 0, 0);\n        checkGlError(gl);\n      }\n\n\n      function setUniform1i(gl, program, name, i0) {\n        var u = gl.getUniformLocation(program, name);\n        gl.uniform1i(u, i0);\n      }\n\n\n      function setUniform2f(gl, program, name, f0, f1) {\n        var u = gl.getUniformLocation(program, name);\n        gl.uniform2f(u, f0, f1);\n      }\n\n// texture\n\n      function loadTexture(gl, texUnit, data) {\n        var tex = gl.createTexture();\n        gl.activeTexture(gl.TEXTURE0 + texUnit);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n        checkGlError(gl);\n        return tex;\n      }\n\n\n      function createTextureSize(gl, texUnit, width, height) {\n        var tex = gl.createTexture();\n        gl.activeTexture(gl.TEXTURE0 + texUnit);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        checkGlError(gl);\n        return tex;\n      }\n\n\n      function setupTextureFBO(gl, texUnit, width, height) {\n        var texture = createTextureSize(gl, texUnit, width, height);\n\n        var oldFbo = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\n        var fbo = gl.createFramebuffer();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n//  gl.viewport(0, 0, width, height);\n\n        checkGlError(gl);\n\n        return {\n          fbo: fbo,\n          texture: texture,\n          oldFbo: oldFbo\n        };\n      }\n\n// process\n\n      function vec2Rectangle(x, y, w, h) {\n        var x1 = x;\n        var x2 = x + w;\n        var y1 = y;\n        var y2 = y + h;\n        return [x1, y1, x2, y1, x1, y2, x1, y2, x2, y1, x2, y2];\n      }\n\n      function generateFragmentShader(options) {\n        var template = shadersContent['#fsh-lanczos1d-optimized-tpl'];\n\n        var direction = options.direction;\n\n        var scaleW = options.texW / options.destW,\n          scaleH = options.texH / options.destH,\n          scale = direction === 'horizontal' ? scaleW : scaleH;\n\n        // filter\n\n        var quality = 3;\n\n        var filterFunction = FILTER_INFO[quality].filter;\n\n        var winSize = FILTER_INFO[quality].win;\n\n        // kernel processing\n\n        var isHorizontal = direction === 'horizontal';\n\n        var pixelSizeX = 1.0 / options.texW,\n          pixelSizeY = 1.0 / options.texH,\n          pixelSize = isHorizontal ? pixelSizeX : pixelSizeY;\n\n        var count = Math.ceil(winSize * scale) * 2.0;\n\n        var code = 'float total = 0.0;\\ngl_FragColor = vec4(0.0);\\n';\n\n        function float(v) {\n          return v.toFixed(20);\n        }\n\n        for (var i = 0; i < count + 1; i++) {\n          var offset = i - count / 2.0;\n          var x = (offset) / scale;\n          var kv = filterFunction(x);\n\n          var p = pixelSize * offset;\n          var px = isHorizontal ? p : 0.0;\n          var py = isHorizontal ? 0.0 : p;\n\n          code += 'addPoint(vec2(' + float(px) + ', ' + float(py) + '), ' + float(kv) + ', total);\\n';\n        }\n\n        code += 'gl_FragColor /= vec4(total);';\n\n        var fragmentShader = template.replace('__CODE__', code);\n\n        return fragmentShader;\n      }\n\n      function createProgramOptimized(gl, options) {\n        var vertexShader = createShader(gl, gl.VERTEX_SHADER, shadersContent['#vsh-basic']);\n        var fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, generateFragmentShader(options));\n\n        return createProgram(gl, vertexShader, fragmentShader);\n      }\n\n      function convolveOptimized(gl, texUnit0, texW, texH, texUnit, direction, destW, destH, flipY) {\n\n        var programOptions = {\n          direction: direction,\n          texW: texW,\n          texH: texH,\n          destW: destW,\n          destH: destH\n        };\n\n        var program = createProgramOptimized(gl, programOptions);\n\n        gl.useProgram(program);\n\n        setUniform1i(gl, program, 'u_image', texUnit0);\n//  setUniform2f(gl, program, 'u_imageSize', texWidth, texHeight);\n        setUniform2f(gl, program, 'u_resolution', destW, destH);\n\n        setAttributeValues(gl, program, 'a_texCoord',\n          [0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1], {elementSize: 2});\n        setAttributeValues(gl, program, 'a_position',\n          !flipY ? vec2Rectangle(0, 0, destW, destH) : vec2Rectangle(0, destH, destW, -destH), {elementSize: 2});\n\n        gl.viewport(0, 0, destW, destH);\n\n        var fboObject = setupTextureFBO(gl, texUnit, destW, destH);\n\n        gl.viewport(0, 0, destW, destH);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fboObject.oldFbo);\n\n        checkGlError(gl);\n\n        return fboObject;\n      }\n\n\n      function webglProcessResizeOptimized(from, gl, options) {\n        var srcW = from.naturalWidth || from.width,\n          srcH = from.naturalHeight || from.height,\n          dstW = gl.canvas.width,\n          dstH = gl.canvas.height;\n\n        var texUnit0 = 0;\n        var texUnit1 = 1;\n        var texUnit2 = 2;\n\n        loadTexture(gl, texUnit0, from);\n\n        convolveOptimized(gl, texUnit0, srcW, srcH, texUnit1, 'horizontal', dstW, srcH, false);\n\n        var finalFboObject = convolveOptimized(gl, texUnit1, dstW, srcH, texUnit2, 'vertical', dstW, dstH, true);\n\n        gl.flush();\n\n        var fb = gl.createFramebuffer();\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, finalFboObject.texture, 0);\n\n        var fb_status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\n        if (fb_status !== gl.FRAMEBUFFER_COMPLETE) {\n          throw new Error('Bad framebuffer status: ' + fb_status);\n        }\n\n        // Clear alpha for sure, if disabled.\n        if (!options.alpha) {\n          gl.clearColor(1, 1, 1, 1);\n          gl.colorMask(false, false, false, true);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n\n        var pixels = new Uint8Array(dstW * dstH * 4);\n\n        gl.readPixels(0, 0, dstW, dstH, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n\n        var unsharpAmount = typeof options.unsharpAmount === 'undefined' ? 0 : (options.unsharpAmount | 0);\n        var unsharpRadius = typeof options.unsharpRadius === 'undefined' ? 0 : (options.unsharpRadius);\n        var unsharpThreshold = typeof options.unsharpThreshold === 'undefined' ? 0 : (options.unsharpThreshold | 0);\n\n        if (unsharpAmount) {\n          unsharp(pixels, dstW, dstH, unsharpAmount, unsharpRadius, unsharpThreshold);\n        }\n\n        return pixels;\n      }\n\n// exports\n\n      module.exports = function (from, to, options, callback) {\n        var gl, canvas;\n\n        try {\n          // create temporarry canvas [\n\n          canvas = document.createElement('canvas');\n          canvas.id = 'pica-webgl-temporarry-canvas';\n          canvas.height = to.height;\n          canvas.width = to.width;\n          document.body.appendChild(canvas);\n\n          // create temporarry canvas ]\n\n          gl = createGl(canvas);\n\n          var data = webglProcessResizeOptimized(from, gl, options);\n\n\n          gl.finish();\n          document.body.removeChild(canvas);\n\n          var ctxTo = to.getContext('2d');\n          var imageDataTo = ctxTo.createImageData(to.width, to.height);\n\n          imageDataTo.data.set(data);\n          ctxTo.putImageData(imageDataTo, 0, 0);\n\n          callback(null, data);\n        } catch (e) {\n          error(e);\n          gl.finish();\n          document.body.removeChild(canvas);\n          callback(e);\n        }\n\n        return generateId();\n      };\n\n      module.exports.terminate = function () {\n      };\n\n    }, {\"./js/generate_id\": 2, \"./js/unsharp\": 5}],\n    11: [function (require, module, exports) {\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\n      var a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\n      function gaussCoef(sigma) {\n        if (sigma < 0.5) {\n          sigma = 0.5;\n        }\n\n        var a = Math.exp(0.726 * 0.726) / sigma,\n          g1 = Math.exp(-a),\n          g2 = Math.exp(-2 * a),\n          k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n        a0 = k;\n        a1 = k * (a - 1) * g1;\n        a2 = k * (a + 1) * g1;\n        a3 = -k * g2;\n        b1 = 2 * g1;\n        b2 = -g2;\n        left_corner = (a0 + a1) / (1 - b1 - b2);\n        right_corner = (a2 + a3) / (1 - b1 - b2);\n\n        // Attempt to force type to FP32.\n        return new Float32Array([a0, a1, a2, a3, b1, b2, left_corner, right_corner]);\n      }\n\n      function convolveMono16(src, out, line, coeff, width, height) {\n        // takes src image and writes the blurred and transposed result into out\n\n        var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n        var src_index, out_index, line_index;\n        var i, j;\n        var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n        for (i = 0; i < height; i++) {\n          src_index = i * width;\n          out_index = i;\n          line_index = 0;\n\n          // left to right\n          prev_src = src[src_index];\n          prev_prev_out = prev_src * coeff[6];\n          prev_out = prev_prev_out;\n\n          coeff_a0 = coeff[0];\n          coeff_a1 = coeff[1];\n          coeff_b1 = coeff[4];\n          coeff_b2 = coeff[5];\n\n          for (j = 0; j < width; j++) {\n            curr_src = src[src_index];\n\n            curr_out = curr_src * coeff_a0 +\n              prev_src * coeff_a1 +\n              prev_out * coeff_b1 +\n              prev_prev_out * coeff_b2;\n\n            prev_prev_out = prev_out;\n            prev_out = curr_out;\n            prev_src = curr_src;\n\n            line[line_index] = prev_out;\n            line_index++;\n            src_index++;\n          }\n\n          src_index--;\n          line_index--;\n          out_index += height * (width - 1);\n\n          // right to left\n          prev_src = src[src_index];\n          prev_prev_out = prev_src * coeff[7];\n          prev_out = prev_prev_out;\n          curr_src = prev_src;\n\n          coeff_a0 = coeff[2];\n          coeff_a1 = coeff[3];\n\n          for (j = width - 1; j >= 0; j--) {\n            curr_out = curr_src * coeff_a0 +\n              prev_src * coeff_a1 +\n              prev_out * coeff_b1 +\n              prev_prev_out * coeff_b2;\n\n            prev_prev_out = prev_out;\n            prev_out = curr_out;\n\n            prev_src = curr_src;\n            curr_src = src[src_index];\n\n            out[out_index] = line[line_index] + prev_out;\n\n            src_index--;\n            line_index--;\n            out_index -= height;\n          }\n        }\n      }\n\n\n      function blurMono16(src, width, height, radius) {\n        // Quick exit on zero radius\n        if (!radius) {\n          return;\n        }\n\n        var out = new Uint16Array(src.length),\n          tmp_line = new Float32Array(Math.max(width, height));\n\n        var coeff = gaussCoef(radius);\n\n        convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n        convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n      }\n\n      module.exports = blurMono16;\n\n    }, {}],\n    12: [function (require, module, exports) {\n      'use strict';\n      /* eslint-disable no-unused-vars */\n      var hasOwnProperty = Object.prototype.hasOwnProperty;\n      var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n      function toObject(val) {\n        if (val === null || val === undefined) {\n          throw new TypeError('Object.assign cannot be called with null or undefined');\n        }\n\n        return Object(val);\n      }\n\n      function shouldUseNative() {\n        try {\n          if (!Object.assign) {\n            return false;\n          }\n\n          // Detect buggy property enumeration order in older V8 versions.\n\n          // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n          var test1 = new String('abc');  // eslint-disable-line\n          test1[5] = 'de';\n          if (Object.getOwnPropertyNames(test1)[0] === '5') {\n            return false;\n          }\n\n          // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n          var test2 = {};\n          for (var i = 0; i < 10; i++) {\n            test2['_' + String.fromCharCode(i)] = i;\n          }\n          var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n            return test2[n];\n          });\n          if (order2.join('') !== '0123456789') {\n            return false;\n          }\n\n          // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n          var test3 = {};\n          'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n            test3[letter] = letter;\n          });\n          if (Object.keys(Object.assign({}, test3)).join('') !==\n            'abcdefghijklmnopqrst') {\n            return false;\n          }\n\n          return true;\n        } catch (e) {\n          // We don't expect any of the above to throw, but better to be safe.\n          return false;\n        }\n      }\n\n      module.exports = shouldUseNative() ? Object.assign : function (target, source) {\n        var from;\n        var to = toObject(target);\n        var symbols;\n\n        for (var s = 1; s < arguments.length; s++) {\n          from = Object(arguments[s]);\n\n          for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n              to[key] = from[key];\n            }\n          }\n\n          if (Object.getOwnPropertySymbols) {\n            symbols = Object.getOwnPropertySymbols(from);\n            for (var i = 0; i < symbols.length; i++) {\n              if (propIsEnumerable.call(from, symbols[i])) {\n                to[symbols[i]] = from[symbols[i]];\n              }\n            }\n          }\n        }\n\n        return to;\n      };\n\n    }, {}],\n    13: [function (require, module, exports) {\n      var bundleFn = arguments[3];\n      var sources = arguments[4];\n      var cache = arguments[5];\n\n      var stringify = JSON.stringify;\n\n      module.exports = function (fn, options) {\n        var wkey;\n        var cacheKeys = Object.keys(cache);\n\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n          var key = cacheKeys[i];\n          var exp = cache[key].exports;\n          // Using babel as a transpiler to use esmodule, the export will always\n          // be an object with the default export as a property of it. To ensure\n          // the existing api and babel esmodule exports are both supported we\n          // check for both\n          if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n          }\n        }\n\n        if (!wkey) {\n          wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n          var wcache = {};\n          for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n          }\n          sources[wkey] = [\n            Function(['require', 'module', 'exports'], '(' + fn + ')(self)'),\n            wcache\n          ];\n        }\n        var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n        var scache = {};\n        scache[wkey] = wkey;\n        sources[skey] = [\n          Function(['require'], (\n            // try to call default if defined to also support babel esmodule\n            // exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);'\n          )),\n          scache\n        ];\n\n        var workerSources = {};\n        resolveSources(skey);\n\n        function resolveSources(key) {\n          workerSources[key] = true;\n\n          for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n              resolveSources(depKey);\n            }\n          }\n        }\n\n        var src = '(' + bundleFn + ')({'\n            + Object.keys(workerSources).map(function (key) {\n              return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n                ;\n            }).join(',')\n            + '},{},[' + stringify(skey) + '])'\n          ;\n\n        var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        var blob = new Blob([src], {type: 'text/javascript'});\n        if (options && options.bare) {\n          return blob;\n        }\n        var workerUrl = URL.createObjectURL(blob);\n        var worker = new Worker(workerUrl);\n        worker.objectURL = workerUrl;\n        return worker;\n      };\n\n    }, {}],\n    \"/\": [function (require, module, exports) {\n      'use strict';\n\n      /*global window, document*/\n      /*eslint space-infix-ops:0*/\n\n// Feature detect\n      var WORKER = (typeof window !== 'undefined') && ('Worker' in window);\n      if (WORKER) {\n        // IE don't allow to create webworkers from string. We should check it.\n        // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n        try {\n          var wkr = require('webworkify')(function () {\n          });\n          wkr.terminate();\n        } catch (__) {\n          WORKER = false;\n        }\n      }\n\n      var WEBGL = false,\n        __cvs;\n      try {\n        if (typeof document !== 'undefined' &&\n          typeof window !== 'undefined' &&\n          window.WebGLRenderingContext) {\n\n          __cvs = document.createElement('canvas');\n\n          if (__cvs.getContext('webgl') || __cvs.getContext('experimental-webgl')) {\n            WEBGL = true;\n          }\n        }\n      } catch (__) {\n      } finally {\n        __cvs = null;\n      }\n\n      var resize_js = require('./lib/resize_js');\n      var resize_js_ww = require('./lib/resize_js_ww');\n      var resize_webgl = require('./lib/resize_webgl');\n      var resize_array = require('./lib/js/resize_array');\n      var unsharp = require('./lib/js/unsharp');\n      var assign = require('object-assign');\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n      function _class(obj) {\n        return Object.prototype.toString.call(obj);\n      }\n\n      function isFunction(obj) {\n        return _class(obj) === '[object Function]';\n      }\n\n////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n// Canvas async resize\n//\n      function resizeCanvas(from, to, options, callback) {\n        if (isFunction(options)) {\n          callback = options;\n          options = {};\n        }\n\n        if (!isNaN(options)) {\n          options = {quality: options, alpha: false};\n        }\n\n        // Force flag reset to simplify status check\n        if (!WEBGL) {\n          exports.WEBGL = false;\n        }\n\n        if (WEBGL && exports.WEBGL) {\n          exports.debug('Resize canvas with WebGL');\n\n          var id = resize_webgl(from, to, options, function (err) {\n            if (err) {\n              exports.debug('WebGL resize failed, do fallback and cancel next attempts');\n              exports.debug(err);\n\n              WEBGL = false;\n              resizeCanvas(from, to, assign({}, options, {_id: id}), callback);\n            } else {\n              callback();\n            }\n          });\n          return id;\n        }\n\n        // Force flag reset to simplify status check\n        if (!WORKER) {\n          exports.WW = false;\n        }\n\n        if (WORKER && exports.WW) {\n          exports.debug('Resize buffer in WebWorker');\n\n          return resize_js_ww(from, to, options, callback);\n        }\n\n        // Fallback to sync call, if WebWorkers not available\n        exports.debug('Resize buffer sync (freeze event loop)');\n\n        return resize_js(from, to, options, callback);\n      }\n\n// RGBA buffer resize\n//\n      function resizeBuffer(options, callback) {\n        var _opts = {\n          src: options.src,\n          dest: options.dest,\n          width: options.width | 0,\n          height: options.height | 0,\n          toWidth: options.toWidth | 0,\n          toHeight: options.toHeight | 0,\n          quality: options.quality,\n          alpha: options.alpha,\n          unsharpAmount: options.unsharpAmount,\n          unsharpRadius: options.unsharpRadius,\n          unsharpThreshold: options.unsharpThreshold\n        };\n\n        _opts.dest = resize_array(_opts);\n\n        if (_opts.unsharpAmount) {\n          unsharp(_opts.dest, _opts.toWidth, _opts.toHeight,\n            _opts.unsharpAmount, _opts.unsharpRadius, _opts.unsharpThreshold);\n        }\n\n        callback(null, _opts.dest);\n      }\n\n      function terminate(id) {\n        resize_js.terminate(id);\n        resize_js_ww.terminate(id);\n        resize_webgl.terminate(id);\n      }\n\n      exports.resizeCanvas = resizeCanvas;\n      exports.resizeBuffer = resizeBuffer;\n      exports.terminate = terminate;\n      exports.WW = WORKER;\n      exports.WEBGL = false; // WEBGL;\n      exports.debug = function () {\n      };\n\n    }, {\n      \"./lib/js/resize_array\": 4,\n      \"./lib/js/unsharp\": 5,\n      \"./lib/resize_js\": 8,\n      \"./lib/resize_js_ww\": 9,\n      \"./lib/resize_webgl\": 10,\n      \"object-assign\": 12,\n      \"webworkify\": 13\n    }]\n  }, {}, [])(\"/\")\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/wardrobe-store-fs/pica.js\n **/","import { Promise } from 'es6-promise'\nimport fsStore from '../wardrobe-store-fs'\n\nconst store = {}\nconst items = {\n  wardrobe: [],\n  accessories: []\n}\n\n/**\n * Returns promise for wardrobe data request\n * @returns {Promise}\n */\nstore.loadWardrobe = function () {\n  return new Promise(function (resolve, reject) {\n    items.wardrobe = []\n    items.accessories = []\n    let rawData = fsStore.getAllItems()\n    // lets sort it out\n    rawData.forEach(item => {\n      switch (item.type.value) {\n      case 'bag':\n      case 'scarf':\n      case 'waistcoat':\n      case 'hat':\n        if (!items.accessories.hasOwnProperty(item.type.value)) items.accessories[item.type.value] = []\n        items.accessories[item.type.value].push(item)\n        break\n      default:\n        if (!items.wardrobe.hasOwnProperty(item.type.value)) items.wardrobe[item.type.value] = []\n        items.wardrobe[item.type.value].push(item)\n        break\n      }\n    })\n    console.log(items)\n    resolve(items)\n  })\n}\n\n/**\n * Generate look from wardrobe data\n * @param {Object} wardrobe - wardrobe object\n * @param {Object} accessories - accessories object\n * @param {String} weather - season indication\n * @returns {Object}\n */\nstore.generateLook = function (wardrobe, accessories, weather) {\n  /**\n   * Filter wardrobe objects according to weather field values\n   * @param wardrobeObj\n   * @returns {{}}\n   */\n  const filterWardrobe = (wardrobeObj) => {\n    let filtered = {}\n    Object.getOwnPropertyNames(wardrobeObj).forEach(group => {\n      if (group !== '__ob__') {\n        filtered[group] = []\n        wardrobeObj[group].forEach(item => {\n          if (weather === 'any') {\n            filtered[group].push(item)\n          } else {\n            for (let i = 0; i < item.season.length; ++i) {\n              if (item.season[i].value === weather) {\n                filtered[group].push(item)\n                break\n              }\n            }\n          }\n        })\n        if (filtered[group].length < 1) {\n          delete filtered[group]\n        }\n      }\n    })\n    console.log(filtered)\n    return filtered\n  }\n  /**\n   * Returns decision between two string inputs\n   * @param grp1 {string}\n   * @param grp2 {string}\n   * @returns {string}\n   */\n  const decideOppGroups = (grp1, grp2) => {\n    let decision = [grp1, grp2]\n    return decision[Math.round(Math.random())]\n  }\n  let look = {\n    main: {},\n    accessories: {}\n  }\n  let filteredWardrobe = filterWardrobe(wardrobe)\n  let filteredAccessories = filterWardrobe(accessories)\n  let excludeGroup = decideOppGroups('bottom', 'dress')\n  Object.getOwnPropertyNames(filteredWardrobe).forEach(val => {\n    if (val !== '__ob__' && val !== excludeGroup) {\n      let index = Math.round(Math.random() * (filteredWardrobe[val].length - 1))\n      look.main[val] = filteredWardrobe[val][index]\n    }\n  })\n  Object.getOwnPropertyNames(filteredAccessories).forEach(val => {\n    let decide = Math.random() - 0.5\n    if (decide > 0 && val !== '__ob__') {\n      let index = Math.round(Math.random() * (filteredAccessories[val].length - 1))\n      look.accessories[val] = filteredAccessories[val][index]\n    }\n  })\n  return {\n    main: Object.assign({}, look.main),\n    accessories: Object.assign({}, look.accessories)\n  }\n}\n\nexport default store\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/wardrobe-store/index.js\n **/","<template>\n  <div id=\"app\">\n    <nav class=\"navbar navbar-dark bg-inverse\">\n      <div class=\"nav navbar-nav\">\n        <router-link class=\"nav-item nav-link\" to=\"/about\">О приложении</router-link>\n        <router-link class=\"nav-item nav-link\" to=\"/look\">Образ</router-link>\n        <router-link class=\"nav-item nav-link\" to=\"/wardrobe\">Гардероб</router-link>\n      </div>\n    </nav>\n    <router-view/>\n    <hr>\n    <p class=\"text-xs-small\"><small>&#9400; Wardrobe Inc. 2016</small></p>\n\n  </div>\n</template>\n\n<script>\n  import look from './components/look'\n\n  export default {\n    components: {\n      look\n    }\n  }\n</script>\n\n<style>\n  html {\n    height: 100%;\n  }\n\n  body {\n    display: flex;\n    /*align-items: center;*/\n    justify-content: center;\n    height: 100%;\n  }\n\n  #app {\n    /*color: #2c3e50;*/\n    /*margin-top: -100px;*/\n    /*max-width: 1200px;*/\n    font-family: Source Sans Pro, Helvetica, sans-serif;\n    text-align: center;\n    margin: 0 auto;\n    width: 100%;\n  }\n\n  /*#app a {*/\n    /*color: #42b983;*/\n    /*text-decoration: none;*/\n  /*}*/\n\n  .router-link-active {\n    color: #fff !important;\n  }\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?62924758\n **/","<template xmlns:v-on=\"http://www.w3.org/1999/xhtml\" xmlns:v-bind=\"http://www.w3.org/1999/xhtml\">\n  <section>\n    <div class=\"jumbotron jumbotron-fluid\">\n      <h1 class=\"screen-1\">Помощник для подбора образа</h1>\n      <p>Текущая версия — 0.3 alpha</p>\n      <p>Создан чтобы помочь в ситуациях когда никак не можешь определиться, что же одеть сегодня</p>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col col-md-6\">\n          <h2>Как пользоваться</h2>\n          <ol class=\"text-xs-left\">\n            <li>В разделе \"Гардероб\" загрузи фотографии нескольких вещей (чем больше вещей тем лучше)</li>\n            <li>После этого в разделе \"Образ\" создавай образы</li>\n          </ol>\n        </div>\n        <div class=\"col col-md-6\">\n          <h2>Возможности версии 0.3</h2>\n          <ol class=\"text-xs-left\">\n            <li>Загрузка вещей с сохранением фотографий в локальном хранилище</li>\n            <li>Сохранение таких свойств вещей, как погодный режим и тип вещи</li>\n            <li>Удаление вещи из гардероба</li>\n            <li>Создание образа с фильтром по погодному режиму или без</li>\n            <li>Сохранение образа с возможностью его загрузки в дальнейшем</li>\n            <li>Все данные пользователя хранятся на его устройстве в браузере</li>\n          </ol>\n        </div>\n\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\n  export default {\n\n    name: 'about',\n\n    components: {\n    },\n\n    data: () => ({}),\n\n    methods: {}\n\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** about.vue?33b66c72\n **/","<template xmlns:v-on=\"http://www.w3.org/1999/xhtml\" xmlns:v-bind=\"http://www.w3.org/1999/xhtml\">\n  <div>\n    <div class=\"jumbotron jumbotron-fluid\">\n    <h1>Образ</h1>\n    <p v-if=\"!canCreateLook\">Для создания образа необходимо загрузить по крайней мере две вещи. Для этого нужно перейти в раздел <router-link to=\"/wardrobe\">Гардероб</router-link></p>\n    <template v-if=\"canCreateLook\">\n      <p>Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p>\n    </template>\n    <template v-if=\"canCreateLook\">\n      <input type=\"radio\" id=\"winter\" value=\"winter\" v-model=\"weather\">\n      <label for=\"winter\">Зима</label>\n      <input type=\"radio\" id=\"inter_season\" value=\"inter_season\" v-model=\"weather\">\n      <label for=\"inter_season\">Межсезонье</label>\n      <input type=\"radio\" id=\"summer\" value=\"summer\" v-model=\"weather\">\n      <label for=\"summer\">Лето</label>\n      <button class=\"btn btn-link\" v-on:click=\"weather = 'any'\"> -- Без разницы</button>\n      <button class=\"btn btn-primary\" v-on:click=\"generateLook()\">Создать образ</button>\n      <button class=\"btn btn-default\" v-on:click=\"saveLook()\" v-if=\"look.main !== 'empty'\">Сохранить</button>\n    </template>\n      </div>\n    <div class=\"look\">\n      <div class=\"look__main\" v-if=\"look.main !== 'empty'\">\n        <div class=\"wardrobe-item\" v-for=\"(item, key) in look.main\" v-bind:class=\"key\">\n          <img :src=\"item.fileURL\" :width=\"imgWidth\">\n        </div>\n      </div>\n      <div class=\"look__accessories\" v-if=\"look.accessories !== 'empty'\">\n        <div class=\"wardrobe-item\" v-for=\"(item, key) in look.accessories\">\n          <img :src=\"item.fileURL\" :width=\"imgWidth\">\n        </div>\n      </div>\n    </div>\n    <div v-if=\"storedLooks.length > 0\">\n      <h3>Сохраненные образы</h3>\n      <div class=\"btn-toolbar saved-looks\" style=\"text-align:center;\">\n        <div class=\"btn-group\" role=\"group\" v-for=\"(look, index) in storedLooks\">\n          <button type=\"button\" class=\"btn btn-default btn-sm\" v-on:click=\"loadLook(index)\">{{look.name}}</button>\n          <button type=\"button\" class=\"btn btn-warning btn-sm\" v-on:click=\"deleteLook(index)\">✕</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import store from '../wardrobe-store'\n  import looks from '../looks-store'\n  import fsStore from '../wardrobe-store-fs'\n  console.log(fsStore)\n//  import radio from '../strap/Radio.vue'\n//  import buttonGroup from '../strap/buttonGroup.vue'\n  export default {\n\n    name: 'look',\n\n//    components: {\n//      'button-group': buttonGroup,\n//      'radio': radio\n//    },\n\n    data: () => ({\n      imgWidth: 150,\n      msg: 'Гардероб!',\n      wardrobe: 'empty',\n      weather: 'any',\n      accessories: 'empty',\n      look: {\n        main: 'empty',\n        accessories: 'empty'\n      },\n      storedLooks: []\n    }),\n\n    computed: {\n      canCreateLook: function () {\n        return Object.keys(this.wardrobe).length + Object.keys(this.accessories).length > 1\n      }\n    },\n\n    mounted: function () {\n      this.storedLooks = looks.get()\n      store.loadWardrobe().then(\n        result => {\n          this.wardrobe = result.wardrobe\n          this.accessories = result.accessories\n        })\n    },\n\n    methods: {\n      saveLook: function () {\n        looks.add(this.look)\n      },\n\n      deleteLook: function (idx) {\n        looks.delete(idx)\n      },\n\n      loadLook: function (idx) {\n        this.look = JSON.parse(JSON.stringify(this['storedLooks'][idx].look))\n      },\n\n      loadWardrobe: function () {\n        store.loadWardrobe().then(\n          result => {\n            this.wardrobe = result.wardrobe\n            this.accessories = result.accessories\n          })\n      },\n\n      generateLook: function () {\n        this.look = store.generateLook(this.wardrobe, this.accessories, this.weather)\n      },\n\n      /**\n       * Calculate total items in arrays of dictionary properties\n       * @param input {object}\n       * @returns {number}\n       */\n      calcItems: function (input) {\n        let total = 0\n        if (input instanceof Object) {\n          Object.keys(input).forEach(val => {\n            total = total + (input[val].length || 0)\n          })\n        }\n        return total\n      }\n    }\n\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n  $main-top-offset = 20px\n  $main-bot-offset = 220px\n\n  /*h1*/\n    /*color: #42b983;*/\n\n  .list td\n    &:first-of-type\n      text-align: left;\n    &:last-of-type\n      text-align: right;\n\n  .wardrobe-item\n    display: inline-block;\n    position: absolute;\n    left: 400px;\n    &.top\n      top: $main-top-offset\n      left: calc(12.5% - 75px);\n    &.dress\n      top: $main-top-offset\n      left: calc(37.5% - 75px);\n    &.sweater\n      top: $main-top-offset\n      left: calc(62.5% - 75px);\n    &.coat\n      top: $main-top-offset\n      left: calc(87.5% - 75px);\n    &.bottom\n      top: $main-top-offset + $main-bot-offset\n      left: calc(50% - 75px);\n      z-index: -1;\n    &.shoes\n      top: $main-top-offset + $main-bot-offset\n      left: calc(32% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n    &.socks\n      top: $main-top-offset + $main-bot-offset\n      left: calc(75% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n\n  .look__main\n    position: relative;\n    width: 600px;\n    height: 480px;\n    margin: 0 auto;\n\n  .look__accessories\n    position: relative;\n    margin: 0 auto;\n    & .wardrobe-item\n      position: relative;\n      display inline-block\n      left: initial;\n    & img\n      width 80px\n\n  .saved-looks\n    display inline-block\n    text-align center\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** look.vue?8399e898\n **/","<template xmlns:v-on=\"http://www.w3.org/1999/xhtml\" xmlns:v-bind=\"http://www.w3.org/1999/xhtml\">\n  <section>\n    <item-upload></item-upload>\n    <div class=\"container\">\n    <hr>\n    <div class=\"alert alert-warning\" role=\"alert\">\n      <strong>Обрати внимание!</strong> Все загруженные фотографии хранятся локально на твоем компьютере именно в этом\n      браузере. Никакие файлы никуда не отправляются и не синхронизируются. Поэтому пожалуйста, после загрузки не удаляй\n      фотографии со своего\n      компьютера.\n    </div>\n    </div>\n  </section>\n</template>\n\n<script>\n  import itemUpload from 'wardrobe/item-upload.vue'\n  //  import store from '../wardrobe-store'\n  //  import looks from '../looks-store'\n  export default {\n\n    name: 'wardrobe',\n\n    components: {\n      'item-upload': itemUpload\n//      'radio': radio\n    },\n\n    data: () => ({}),\n\n    mounted: function () {\n    },\n\n    methods: {},\n\n    created: function () {\n\n    }\n\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n  $main-top-offset = 20px\n  $main-bot-offset = 220px\n\n  h1\n    color: #42b983;\n\n  .list td\n    &:first-of-type\n      text-align: left;\n    &:last-of-type\n      text-align: right;\n\n  .wardrobe-item\n    display: inline-block;\n    position: absolute;\n    left: 400px;\n    &.top\n      top: $main-top-offset\n      left: calc(12.5% - 75px);\n    &.dress\n      top: $main-top-offset\n      left: calc(37.5% - 75px);\n    &.sweater\n      top: $main-top-offset\n      left: calc(62.5% - 75px);\n    &.coat\n      top: $main-top-offset\n      left: calc(87.5% - 75px);\n    &.bottom\n      top: $main-top-offset + $main-bot-offset\n      left: calc(50% - 75px);\n      z-index: -1;\n    &.shoes\n      top: $main-top-offset + $main-bot-offset\n      left: calc(32% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n    &.socks\n      top: $main-top-offset + $main-bot-offset\n      left: calc(75% - 75px);\n      z-index: -1;\n      & img\n        width: 110px;\n\n  .look__main\n    position: relative;\n    width: 600px;\n    height: 480px;\n    margin: 0 auto;\n\n  .look__accessories\n    position: relative;\n    margin: 0 auto;\n    & .wardrobe-item\n      position: relative;\n      display inline-block\n      left: initial;\n    & img\n      width 80px\n\n  .saved-looks\n    display inline-block\n    text-align center\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** wardrobe.vue?79cca193\n **/","<template xmlns:v-on=\"http://www.w3.org/1999/xhtml\" xmlns:v-bind=\"http://www.w3.org/1999/xhtml\">\n  <section>\n    <div class=\"jumbotron jumbotron-fluid p-b-1\">\n      <div class=\"raw\"><h2>Добавить вещь в гардероб</h2></div>\n      <form class=\"form\">\n        <div class=\"form-group\">\n          <label class=\"custom-file\">\n            <input type=\"file\" id=\"file\" class=\"custom-file-input\" accept=\".jpg,.png,.jpeg\" v-on:change=\"fileOnChange\">\n            <span class=\"custom-file-control\" v-bind:class=\"{'chosen': imageFile.name}\"></span>\n          </label>\n          <p class=\"help-block\" v-if=\"imageFile.name\">Выбран файл: {{ imageFile.name }}</p>\n          <img :src=\"previewSRC\" height=\"100\" v-if=\"previewSRC\">\n        </div>\n        <div class=\"form-group\">\n          <select class=\"custom-select\" v-model.lazy=\"itemTypeCurrent\">\n            <option :value=\"type\" v-for=\"type in itemTypes\">{{ type.name }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label>Cезон: </label>\n\n            <label class=\"custom-control custom-checkbox\" v-for=\"season in seasons\">\n              <input type=\"checkbox\" class=\"custom-control-input\" name=\"season\" :value=\"season\"\n                     v-model=\"seasonsCurrent\">\n              <span class=\"custom-control-indicator\"></span>\n              <span class=\"custom-control-description\">{{ season.name }}</span>\n            </label>\n\n        </div>\n        <div class=\"form-group\">\n          <button type=\"button\" class=\"btn btn-primary\"\n                  v-on:click=\"submit()\" v-bind:disabled=\"validation.upload\">Сохранить\n          </button>\n        </div>\n        <div class=\"alert alert-success\" v-if=\"upload.status === 'success'\">{{upload.message}}</div>\n        <div class=\"alert alert-danger\" v-if=\"upload.status === 'fail'\">{{upload.message}}</div>\n      </form>\n    </div>\n    <!-- Гардероб -->\n    <div class=\"container\" v-for=\"type in typesPresentInWardrobe()\">\n      <h2>Гардероб</h2>\n      <hr>\n      <h4 class=\" text-md-left\">{{ type.name }}</h4>\n      <div class=\"wardrobe-items\">\n        <div class=\"item\" v-for=\"item in containsTypeVal(wardrobe, type)\">\n          <img class=\"item-img\" :src=\"item.fileURL\" :alt=\"item.uid\" nopin=\"nopin\">\n          <button class=\"item-close\" v-on:click=\"remove(item.uid)\">×</button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\n  //  import Vue from 'vue'\n  import fsStore from '../../wardrobe-store-fs'\n  //  const pica = require('pica')\n  export default {\n\n    name: 'itemUpload',\n\n    created: function () {\n      fsStore.init()\n      this.wardrobe = fsStore.getAllItems()\n    },\n\n    methods: {\n      fileOnChange: function (el) {\n        this.imageFile = el.target.files[0]\n        this.previewSRC = window.URL.createObjectURL(this.imageFile)\n        console.dir(this.imageFile)\n      },\n      submit: function () {\n        fsStore.add(this.imageFile, this.seasonsCurrent, this.itemTypeCurrent).then(url => {\n          this.upload.status = 'success'\n          this.upload.message = 'Получилось!'\n          console.log(url)\n          this.wardrobe = fsStore.getAllItems()\n        }).catch(error => {\n          this.upload.status = 'fail'\n          this.upload.message = error.message\n          console.dir(error)\n        })\n      },\n      remove: function (uid) {\n        fsStore.delete(uid).then(updated => {\n          this.wardrobe = updated\n        }).catch(error => {\n          this.upload.status = 'fail'\n          this.upload.message = error.message\n          console.dir(error)\n        })\n      },\n      containsTypeVal: function (list, type) {\n        return list.filter(item => {\n          if (item.type.value === type.value) return item\n        })\n      },\n      typesPresentInWardrobe: function () {\n        return this.itemTypes.filter(type => {\n          for (let i = 0; i < this.wardrobe.length; ++i) {\n            if (this.wardrobe[i].type.value === type.value) {\n              return type\n            }\n          }\n        })\n      }\n    },\n\n    computed: {\n      validation: function () {\n        return {\n          upload: !(this.imageFile !== '' && this.itemTypeCurrent.value !== '' && this.seasonsCurrent.length > 0)\n        }\n      }\n    },\n\n    data: () => ({\n\n      itemTypes: [{name: 'Тип одежды...', value: ''},\n        {name: 'Сумка', value: 'bag'},\n        {name: 'На голову', value: 'hat'},\n        {name: 'Шарфик', value: 'scarf'},\n        {name: 'Жилетка', value: 'waistcoat'},\n        {name: 'Платье', value: 'dress'},\n        {name: 'Носки', value: 'socks'},\n        {name: 'Обувь', value: 'shoes'},\n        {name: 'Верхняя одежда', value: 'top'},\n        {name: 'Штаны/юбка', value: 'bottom'},\n        {name: 'Плащь', value: 'coat'},\n        {name: 'Свитер', value: 'sweater'}],\n\n      itemTypeCurrent: {name: 'Тип одежды...', value: ''},\n\n      seasons: [{name: 'лето', value: 'summer'},\n        {name: 'зима', value: 'winter'},\n        {name: 'межсезонье', value: 'inter_season'}],\n\n      seasonsCurrent: [{name: 'лето', value: 'summer'},\n        {name: 'зима', value: 'winter'},\n        {name: 'межсезонье', value: 'inter_season'}],\n\n      imageFile: '',\n      previewSRC: '',\n\n      upload: {\n        status: '',\n        message: ''\n      },\n\n      wardrobe: []\n\n    })\n\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .custom-file-control:lang(ru)\n    &:before\n      content: \"Выбрать\"\n    &:after\n      content: \"Нужно фото...\"\n      position: absolute\n      left 1em\n\n  .custom-file-control.chosen:lang(ru)\n    &:after\n      content \"Есть фото!\"\n\n  .custom-select\n    line-height 1.2em\n    cursor pointer\n\n  .wardrobe-items\n    display flex\n    flex-wrap wrap\n    .item\n      position relative\n      width 10%\n      &:hover > .item-close\n        opacity 1\n      &:hover > .item-img\n        opacity .4\n      &-close\n        opacity 0\n        position absolute\n        right 10px\n        top 10px\n        font-size 2em\n        background: #d63d30;\n        line-height: 0.6em;\n        vertical-align: middle;\n        text-align: center;\n        padding: 4px;\n        color: white;\n        border 0\n        border-radius: 4px;\n        transition: opacity .2s ease\n        &:hover\n          text-decoration none\n    .item-img\n      width 100%\n      transition: opacity .2s ease\n      display block\n      position relative\n\n  .card-columns\n    column-count 6\n    .card\n      break-inside avoid\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** item-upload.vue?0f9555f2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-1!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-1!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 101\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-2&scoped=true!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./about.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./about.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-2!vue-loader/lib/selector?type=template&index=0!./about.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-2\"\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/about.vue\n ** module id = 102\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-3&scoped=true!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./wardrobe.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./wardrobe.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-3!vue-loader/lib/selector?type=template&index=0!./wardrobe.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-3\"\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/wardrobe.vue\n ** module id = 103\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-5&scoped=true!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./item-upload.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./item-upload.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-5!vue-loader/lib/selector?type=template&index=0!./item-upload.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-5\"\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/wardrobe/item-upload.vue\n ** module id = 104\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_h('nav', {\n    staticClass: \"navbar navbar-dark bg-inverse\"\n  }, [_h('div', {\n    staticClass: \"nav navbar-nav\"\n  }, [_h('router-link', {\n    staticClass: \"nav-item nav-link\",\n    attrs: {\n      \"to\": \"/about\"\n    }\n  }, [\"О приложении\"]), \" \", _h('router-link', {\n    staticClass: \"nav-item nav-link\",\n    attrs: {\n      \"to\": \"/look\"\n    }\n  }, [\"Образ\"]), \" \", _h('router-link', {\n    staticClass: \"nav-item nav-link\",\n    attrs: {\n      \"to\": \"/wardrobe\"\n    }\n  }, [\"Гардероб\"])])]), \" \", _h('router-view'), \" \", _m(0), \" \", _m(1)])\n}},staticRenderFns: [function (){with(this) {\n  return _h('hr')\n}},function (){with(this) {\n  return _h('p', {\n    staticClass: \"text-xs-small\"\n  }, [_h('small', [\"Ⓒ Wardrobe Inc. 2016\"])])\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-1!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 105\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _m(0)\n}},staticRenderFns: [function (){with(this) {\n  return _h('section', [_h('div', {\n    staticClass: \"jumbotron jumbotron-fluid\"\n  }, [_h('h1', {\n    staticClass: \"screen-1\"\n  }, [\"Помощник для подбора образа\"]), \" \", _h('p', [\"Текущая версия — 0.3 alpha\"]), \" \", _h('p', [\"Создан чтобы помочь в ситуациях когда никак не можешь определиться, что же одеть сегодня\"])]), \" \", _h('div', {\n    staticClass: \"container\"\n  }, [_h('div', {\n    staticClass: \"row\"\n  }, [_h('div', {\n    staticClass: \"col col-md-6\"\n  }, [_h('h2', [\"Как пользоваться\"]), \" \", _h('ol', {\n    staticClass: \"text-xs-left\"\n  }, [_h('li', [\"В разделе \\\"Гардероб\\\" загрузи фотографии нескольких вещей (чем больше вещей тем лучше)\"]), \" \", _h('li', [\"После этого в разделе \\\"Образ\\\" создавай образы\"])])]), \" \", _h('div', {\n    staticClass: \"col col-md-6\"\n  }, [_h('h2', [\"Возможности версии 0.3\"]), \" \", _h('ol', {\n    staticClass: \"text-xs-left\"\n  }, [_h('li', [\"Загрузка вещей с сохранением фотографий в локальном хранилище\"]), \" \", _h('li', [\"Сохранение таких свойств вещей, как погодный режим и тип вещи\"]), \" \", _h('li', [\"Удаление вещи из гардероба\"]), \" \", _h('li', [\"Создание образа с фильтром по погодному режиму или без\"]), \" \", _h('li', [\"Сохранение образа с возможностью его загрузки в дальнейшем\"]), \" \", _h('li', [\"Все данные пользователя хранятся на его устройстве в браузере\"])])])])])])\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/about.vue\n ** module id = 106\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('section', [_h('item-upload'), \" \", _m(0)])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"container\"\n  }, [_h('hr'), \" \", _h('div', {\n    staticClass: \"alert alert-warning\",\n    attrs: {\n      \"role\": \"alert\"\n    }\n  }, [_h('strong', [\"Обрати внимание!\"]), \" Все загруженные фотографии хранятся локально на твоем компьютере именно в этом\\n    браузере. Никакие файлы никуда не отправляются и не синхронизируются. Поэтому пожалуйста, после загрузки не удаляй\\n    фотографии со своего\\n    компьютера.\\n  \"])])\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/wardrobe.vue\n ** module id = 107\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', [_h('div', {\n    staticClass: \"jumbotron jumbotron-fluid\"\n  }, [_m(0), \" \", (!canCreateLook) ? _h('p', [\"Для создания образа необходимо загрузить по крайней мере две вещи. Для этого нужно перейти в раздел \", _h('router-link', {\n    attrs: {\n      \"to\": \"/wardrobe\"\n    }\n  }, [\"Гардероб\"])]) : _e(), \" \", (canCreateLook) ? [_h('p', [\"Всего вещей: \" + _s(calcItems(wardrobe)) + \", аксессуаров: \" + _s(calcItems(accessories))])] : _e(), \" \", (canCreateLook) ? [_h('input', {\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"winter\",\n      \"value\": \"winter\"\n    },\n    domProps: {\n      \"checked\": _q(weather, \"winter\")\n    },\n    on: {\n      \"change\": function($event) {\n        weather = \"winter\"\n      }\n    }\n  }), \" \", _m(1), \" \", _h('input', {\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"inter_season\",\n      \"value\": \"inter_season\"\n    },\n    domProps: {\n      \"checked\": _q(weather, \"inter_season\")\n    },\n    on: {\n      \"change\": function($event) {\n        weather = \"inter_season\"\n      }\n    }\n  }), \" \", _m(2), \" \", _h('input', {\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"summer\",\n      \"value\": \"summer\"\n    },\n    domProps: {\n      \"checked\": _q(weather, \"summer\")\n    },\n    on: {\n      \"change\": function($event) {\n        weather = \"summer\"\n      }\n    }\n  }), \" \", _m(3), \" \", _h('button', {\n    staticClass: \"btn btn-link\",\n    on: {\n      \"click\": function($event) {\n        weather = 'any'\n      }\n    }\n  }, [\" -- Без разницы\"]), \" \", _h('button', {\n    staticClass: \"btn btn-primary\",\n    on: {\n      \"click\": function($event) {\n        generateLook()\n      }\n    }\n  }, [\"Создать образ\"]), \" \", (look.main !== 'empty') ? _h('button', {\n    staticClass: \"btn btn-default\",\n    on: {\n      \"click\": function($event) {\n        saveLook()\n      }\n    }\n  }, [\"Сохранить\"]) : _e()] : _e()]), \" \", _h('div', {\n    staticClass: \"look\"\n  }, [(look.main !== 'empty') ? _h('div', {\n    staticClass: \"look__main\"\n  }, [_l((look.main), function(item, key) {\n    return _h('div', {\n      staticClass: \"wardrobe-item\",\n      class: key\n    }, [_h('img', {\n      attrs: {\n        \"src\": item.fileURL,\n        \"width\": imgWidth\n      }\n    })])\n  })]) : _e(), \" \", (look.accessories !== 'empty') ? _h('div', {\n    staticClass: \"look__accessories\"\n  }, [_l((look.accessories), function(item, key) {\n    return _h('div', {\n      staticClass: \"wardrobe-item\"\n    }, [_h('img', {\n      attrs: {\n        \"src\": item.fileURL,\n        \"width\": imgWidth\n      }\n    })])\n  })]) : _e()]), \" \", (storedLooks.length > 0) ? _h('div', [_m(4), \" \", _h('div', {\n    staticClass: \"btn-toolbar saved-looks\",\n    attrs: {\n      \"style\": \"text-align:center;\"\n    }\n  }, [_l((storedLooks), function(look, index) {\n    return _h('div', {\n      staticClass: \"btn-group\",\n      attrs: {\n        \"role\": \"group\"\n      }\n    }, [_h('button', {\n      staticClass: \"btn btn-default btn-sm\",\n      attrs: {\n        \"type\": \"button\"\n      },\n      on: {\n        \"click\": function($event) {\n          loadLook(index)\n        }\n      }\n    }, [_s(look.name)]), \" \", _h('button', {\n      staticClass: \"btn btn-warning btn-sm\",\n      attrs: {\n        \"type\": \"button\"\n      },\n      on: {\n        \"click\": function($event) {\n          deleteLook(index)\n        }\n      }\n    }, [\"✕\"])])\n  })])]) : _e()])\n}},staticRenderFns: [function (){with(this) {\n  return _h('h1', [\"Образ\"])\n}},function (){with(this) {\n  return _h('label', {\n    attrs: {\n      \"for\": \"winter\"\n    }\n  }, [\"Зима\"])\n}},function (){with(this) {\n  return _h('label', {\n    attrs: {\n      \"for\": \"inter_season\"\n    }\n  }, [\"Межсезонье\"])\n}},function (){with(this) {\n  return _h('label', {\n    attrs: {\n      \"for\": \"summer\"\n    }\n  }, [\"Лето\"])\n}},function (){with(this) {\n  return _h('h3', [\"Сохраненные образы\"])\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-4!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/look.vue\n ** module id = 108\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('section', [_h('div', {\n    staticClass: \"jumbotron jumbotron-fluid p-b-1\"\n  }, [_m(0), \" \", _h('form', {\n    staticClass: \"form\"\n  }, [_h('div', {\n    staticClass: \"form-group\"\n  }, [_h('label', {\n    staticClass: \"custom-file\"\n  }, [_h('input', {\n    staticClass: \"custom-file-input\",\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"file\",\n      \"accept\": \".jpg,.png,.jpeg\"\n    },\n    on: {\n      \"change\": fileOnChange\n    }\n  }), \" \", _h('span', {\n    staticClass: \"custom-file-control\",\n    class: {\n      'chosen': imageFile.name\n    }\n  })]), \" \", (imageFile.name) ? _h('p', {\n    staticClass: \"help-block\"\n  }, [\"Выбран файл: \" + _s(imageFile.name)]) : _e(), \" \", (previewSRC) ? _h('img', {\n    attrs: {\n      \"src\": previewSRC,\n      \"height\": \"100\"\n    }\n  }) : _e()]), \" \", _h('div', {\n    staticClass: \"form-group\"\n  }, [_h('select', {\n    directives: [{\n      name: \"model\",\n      value: (itemTypeCurrent),\n      expression: \"itemTypeCurrent\",\n      modifiers: {\n        \"lazy\": true\n      }\n    }],\n    staticClass: \"custom-select\",\n    on: {\n      \"change\": function($event) {\n        itemTypeCurrent = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          return \"_value\" in o ? o._value : o.value\n        })[0]\n      }\n    }\n  }, [_l((itemTypes), function(type) {\n    return _h('option', {\n      domProps: {\n        \"value\": type\n      }\n    }, [_s(type.name)])\n  })])]), \" \", _h('div', {\n    staticClass: \"form-group\"\n  }, [_m(1), \" \", _l((seasons), function(season) {\n    return _h('label', {\n      staticClass: \"custom-control custom-checkbox\"\n    }, [_h('input', {\n      staticClass: \"custom-control-input\",\n      attrs: {\n        \"type\": \"checkbox\",\n        \"name\": \"season\"\n      },\n      domProps: {\n        \"value\": season,\n        \"checked\": Array.isArray(seasonsCurrent) ? _i(seasonsCurrent, season) > -1 : _q(seasonsCurrent, true)\n      },\n      on: {\n        \"change\": function($event) {\n          var $$a = seasonsCurrent,\n            $$el = $event.target,\n            $$c = $$el.checked ? (true) : (false);\n          if (Array.isArray($$a)) {\n            var $$v = season,\n              $$i = _i($$a, $$v);\n            if ($$c) {\n              $$i < 0 && (seasonsCurrent = $$a.concat($$v))\n            } else {\n              $$i > -1 && (seasonsCurrent = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n            }\n          } else {\n            seasonsCurrent = $$c\n          }\n        }\n      }\n    }), \" \", _m(2, true), \" \", _h('span', {\n      staticClass: \"custom-control-description\"\n    }, [_s(season.name)])])\n  })]), \" \", _h('div', {\n    staticClass: \"form-group\"\n  }, [_h('button', {\n    staticClass: \"btn btn-primary\",\n    attrs: {\n      \"type\": \"button\",\n      \"disabled\": validation.upload\n    },\n    on: {\n      \"click\": function($event) {\n        submit()\n      }\n    }\n  }, [\"Сохранить\\n        \"])]), \" \", (upload.status === 'success') ? _h('div', {\n    staticClass: \"alert alert-success\"\n  }, [_s(upload.message)]) : _e(), \" \", (upload.status === 'fail') ? _h('div', {\n    staticClass: \"alert alert-danger\"\n  }, [_s(upload.message)]) : _e()])]), \" \", \" \", _l((typesPresentInWardrobe()), function(type) {\n    return _h('div', {\n      staticClass: \"container\"\n    }, [_m(3, true), \" \", _m(4, true), \" \", _h('h4', {\n      staticClass: \" text-md-left\"\n    }, [_s(type.name)]), \" \", _h('div', {\n      staticClass: \"wardrobe-items\"\n    }, [_l((containsTypeVal(wardrobe, type)), function(item) {\n      return _h('div', {\n        staticClass: \"item\"\n      }, [_h('img', {\n        staticClass: \"item-img\",\n        attrs: {\n          \"src\": item.fileURL,\n          \"alt\": item.uid,\n          \"nopin\": \"nopin\"\n        }\n      }), \" \", _h('button', {\n        staticClass: \"item-close\",\n        on: {\n          \"click\": function($event) {\n            remove(item.uid)\n          }\n        }\n      }, [\"×\"])])\n    })])])\n  })])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"raw\"\n  }, [_h('h2', [\"Добавить вещь в гардероб\"])])\n}},function (){with(this) {\n  return _h('label', [\"Cезон: \"])\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"custom-control-indicator\"\n  })\n}},function (){with(this) {\n  return _h('h2', [\"Гардероб\"])\n}},function (){with(this) {\n  return _h('hr')\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-5!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/wardrobe/item-upload.vue\n ** module id = 109\n ** module chunks = 2\n **/"],"sourceRoot":""}