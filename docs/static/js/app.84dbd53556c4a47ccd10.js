webpackJsonp([2,0],{0:function(e,o,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=t(46),a=s(r),n=t(44),i=s(n);new a["default"]({el:"body",components:{App:i["default"]}})},8:function(e,o,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(o,"__esModule",{value:!0});var r=t(45),a=s(r);o["default"]={components:{wardrobe:a["default"]}}},9:function(e,o,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(o,"__esModule",{value:!0});var r=t(11),a=s(r),n=t(10),i=s(n);o["default"]={name:"wardrobe",data:function(){return{imgWidth:150,msg:"Гардероб!",wardrobe:"empty",accessories:"empty",look:{main:"empty",accessories:"empty"},storedLooks:[]}},ready:function(){var e=window.localStorage.getItem("storedLooks");e&&(e=JSON.parse(e),this.storedLooks=e)},methods:{saveLook:function(){var e=this,o=function(o,t){for(var s=!0,r=0;r<e.storedLooks.length;++r)if((0,i["default"])(t[r].look)===(0,i["default"])(o)){s=!1;break}return s},t=function r(){for(var r=1,o=0;o<e.storedLooks.length;++o){var t=parseInt(e.storedLooks[o].name,10);t>=r&&(r=t+1)}return r};if("empty"!==this.look.main&&o(this.look,this.storedLooks)){var s={};s.name=t(),s.look=JSON.parse((0,i["default"])(this.look)),this.storedLooks.push(s),s=(0,i["default"])(this.storedLooks),window.localStorage.setItem("storedLooks",s)}},deleteLook:function(e){this.storedLooks.splice(e,1),window.localStorage.setItem("storedLooks",(0,i["default"])(this.storedLooks))},loadLook:function(e){this.look=JSON.parse((0,i["default"])(this.storedLooks[e].look))},loadWardrobe:function(){var e=this,o=new XMLHttpRequest;o.open("GET","static/wardrobe.json",!0),o.send(),o.onreadystatechange=function(){if(4===o.readyState)if(200!==o.status)console.debug(o.status+": "+o.statusText);else{var t=JSON.parse(o.responseText);e.accessories=t.accessories,delete t.accessories,e.wardrobe=t}}},generateLook:function(){var e=this,o={};(0,a["default"])(this.wardrobe).forEach(function(t){if("__ob__"!==t){var s=Math.round(Math.random()*(e.wardrobe[t].length-1));o[t]=e.wardrobe[t][s]}});var t={};(0,a["default"])(this.accessories).forEach(function(o){var s=Math.random()-.5;if(s>0&&"__ob__"!==o){var r=Math.round(Math.random()*(e.accessories[o].length-1));t[o]=e.accessories[o][r]}}),this.look.main=o,this.look.accessories=t},calcItems:function(e){var o=0;return e instanceof Object&&(0,a["default"])(e).forEach(function(t){o+=e[t].length||0}),o},getClass:function(e){return e}},created:function(){}}},40:function(e,o){},41:function(e,o){},42:function(e,o){e.exports=" <div id=app> <wardrobe></wardrobe> </div> "},43:function(e,o){e.exports=' <div class=hello _v-02c85d1e=""> <h1 _v-02c85d1e="">{{ msg }}</h1> <template v-if="wardrobe.hasOwnProperty(\'top\')"> <p _v-02c85d1e="">Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p> </template> <div _v-02c85d1e=""> <button class="btn btn-primary" v-on:click=loadWardrobe() v-if="wardrobe === \'empty\'" _v-02c85d1e="">Загрузить гардероб </button> </div> <template v-if="wardrobe.hasOwnProperty(\'top\')"> <button class="btn btn-primary" v-on:click=generateLook() _v-02c85d1e="">Создать образ</button> <button class="btn btn-default" v-on:click=saveLook() v-if="look.main !== \'empty\'" _v-02c85d1e="">Сохранить</button> </template> <div class=look _v-02c85d1e=""> <div class=look__main v-if="look.main !== \'empty\'" _v-02c85d1e=""> <div class=wardrobe-item v-for="(key, item) in look.main" v-bind:class=getClass(key) _v-02c85d1e=""> <img :src="\'static/images/\' + key + \'/\' + item" :width=imgWidth _v-02c85d1e=""> </div> </div> <div class=look__accessories v-if="look.accessories !== \'empty\'" _v-02c85d1e=""> <div class=wardrobe-item v-for="(key, item) in look.accessories" _v-02c85d1e=""> <img :src="\'static/images/accessories/\' + key + \'/\' + item" :width=imgWidth _v-02c85d1e=""> </div> </div> </div> <div _v-02c85d1e=""> <h3 _v-02c85d1e="">Сохраненные образы</h3> <div class="btn-toolbar saved-looks" style=text-align:center _v-02c85d1e=""> <div class=btn-group role=group v-for="look in storedLooks" _v-02c85d1e=""> <button type=button class="btn btn-default btn-sm" v-on:click=loadLook($index) _v-02c85d1e="">{{look.name}}</button> <button type=button class="btn btn-warning btn-sm" v-on:click=deleteLook($index) _v-02c85d1e="">✕</button> </div> </div> </div> </div> '},44:function(e,o,t){var s,r;t(40),s=t(8),r=t(42),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},45:function(e,o,t){var s,r;t(41),s=t(9),r=t(43),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}});
//# sourceMappingURL=app.84dbd53556c4a47ccd10.js.map