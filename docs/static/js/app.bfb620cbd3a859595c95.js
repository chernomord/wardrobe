webpackJsonp([2,0],{0:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=o(46),a=s(r),i=o(44),n=s(i);new a["default"]({el:"body",components:{App:n["default"]}})},8:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(45),a=s(r);t["default"]={components:{wardrobe:a["default"]}}},9:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),a=s(r),i=o(10),n=s(i);t["default"]={name:"wardrobe",data:function(){return{imgWidth:150,msg:"Гардероб!",wardrobe:"empty",accessories:"empty",look:{main:"empty",accessories:"empty"},storedLooks:[]}},ready:function(){var e=window.localStorage.getItem("storedLooks");e&&(e=JSON.parse(e),this.storedLooks=e)},methods:{saveLook:function(){function e(e,t){var o=!1;return(0,n["default"])(e)===(0,n["default"])(t)&&(o=!0),o}for(var t=!0,o=0;o<this.storedLooks.length;++o)if(e(this.storedLooks[o],this.look)){t=!1;break}if("empty"!==this.look.main&&t){this.storedLooks.push(this.look);var s=(0,n["default"])(this.storedLooks);window.localStorage.setItem("storedLooks",s)}},deleteLook:function(e){this.storedLooks.splice(e,1),window.localStorage.setItem("storedLooks",(0,n["default"])(this.storedLooks))},loadLook:function(e){this.look=JSON.parse((0,n["default"])(this.storedLooks[e]))},loadWardrobe:function(){var e=this,t=new XMLHttpRequest;t.open("GET","static/wardrobe.json",!0),t.send(),t.onreadystatechange=function(){if(4===t.readyState)if(200!==t.status)console.debug(t.status+": "+t.statusText);else{var o=JSON.parse(t.responseText);e.accessories=o.accessories,delete o.accessories,e.wardrobe=o}}},generateLook:function(){var e=this,t={};(0,a["default"])(this.wardrobe).forEach(function(o){if("__ob__"!==o){var s=Math.round(Math.random()*(e.wardrobe[o].length-1));t[o]=e.wardrobe[o][s]}});var o={};(0,a["default"])(this.accessories).forEach(function(t){var s=Math.random()-.5;if(s>0&&"__ob__"!==t){var r=Math.round(Math.random()*(e.accessories[t].length-1));o[t]=e.accessories[t][r]}}),this.look.main=t,this.look.accessories=o},calcItems:function(e){var t=0;return e instanceof Object&&(0,a["default"])(e).forEach(function(o){t+=e[o].length||0}),t},getClass:function(e){return e}},created:function(){}}},40:function(e,t){},41:function(e,t){},42:function(e,t){e.exports=" <div id=app> <wardrobe></wardrobe> </div> "},43:function(e,t){e.exports=' <div class=hello _v-02c85d1e=""> <h1 _v-02c85d1e="">{{ msg }}</h1> <template v-if="wardrobe.hasOwnProperty(\'top\')"> <p _v-02c85d1e="">Всего вещей: {{calcItems(wardrobe)}}, аксессуаров: {{calcItems(accessories)}}</p> </template> <div _v-02c85d1e=""> <button class="btn btn-primary" v-on:click=loadWardrobe() v-if="wardrobe === \'empty\'" _v-02c85d1e="">Загрузить гардероб </button> </div> <template v-if="wardrobe.hasOwnProperty(\'top\')"> <button class="btn btn-primary" v-on:click=generateLook() _v-02c85d1e="">Создать образ</button> <button class="btn btn-default" v-on:click=saveLook() _v-02c85d1e="">Сохранить</button> </template> <div class=look _v-02c85d1e=""> <div class=look__main v-if="look.main !== \'empty\'" _v-02c85d1e=""> <div class=wardrobe-item v-for="(key, item) in look.main" v-bind:class=getClass(key) _v-02c85d1e=""> <img :src="\'static/images/\' + key + \'/\' + item" :width=imgWidth _v-02c85d1e=""> </div> </div> <div class=look__accessories v-if="look.accessories !== \'empty\'" _v-02c85d1e=""> <div class=wardrobe-item v-for="(key, item) in look.accessories" _v-02c85d1e=""> <img :src="\'static/images/accessories/\' + key + \'/\' + item" :width=imgWidth _v-02c85d1e=""> </div> </div> </div> <div _v-02c85d1e=""> <h3 _v-02c85d1e="">Сохраненные образы</h3> <div class=btn-toolbar style=text-align:center _v-02c85d1e=""> <div class=btn-group role=group v-for="look in storedLooks" _v-02c85d1e=""> <button type=button class="btn btn-default btn-sm" v-on:click=loadLook($index) _v-02c85d1e="">#{{$index}}</button> <button type=button class="btn btn-warning btn-sm" v-on:click=deleteLook($index) _v-02c85d1e="">x</button> </div> </div> </div> </div> '},44:function(e,t,o){var s,r;o(40),s=o(8),r=o(42),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},45:function(e,t,o){var s,r;o(41),s=o(9),r=o(43),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}});
//# sourceMappingURL=app.bfb620cbd3a859595c95.js.map